
   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_encrypts_and_decrypts_generic_values(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_encrypts_and_decrypts_phone_numbers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_encrypts_and_decrypts_emails(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_encrypts_and_decrypts_ip_addresses(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_handles_null_values(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_handles_empty_strings(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_masks_generic_values(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_masks_phone_numbers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_masks_emails(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_masks_card_numbers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_creates_consistent_hashes(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_verifies_hashes_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_creates_different_hashes_for_different_values(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::encrypted_values_are_different_each_time(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_handles_special_characters_in_encryption(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_handles_unicode_in_encryption(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_handles_long_values(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::it_returns_null_for_invalid_encrypted_data(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\EncryptionServiceTest::masked_values_preserve_length_indication(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_exports_user_data_to_zip(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_includes_user_profile_in_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_includes_wallet_data_in_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_includes_transactions_in_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_includes_bets_in_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_includes_bonuses_in_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_deletes_user_data(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_anonymizes_user_when_configured(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_preserves_financial_records(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_generates_valid_json_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_handles_user_without_data(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\GdprServiceTest::it_handles_invalid_export(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_generates_deterministic_result_hash(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_generates_different_hashes_for_different_nonces(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_dice_result_in_valid_range(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_mines_positions(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_keno_numbers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_crash_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_card(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_converts_hash_to_plinko_path(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_gets_plinko_multipliers_for_risk_levels(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_gets_wheel_config_for_risk_levels(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_selects_wheel_segment_based_on_float(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_verifies_result_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_fails_verification_with_wrong_hash(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_creates_new_seed_for_user(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::it_gets_or_creates_active_seed(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::hash_to_number_returns_float_between_0_and_1(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ProvablyFairServiceTest::hash_to_float_is_alias_of_hash_to_number(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_creates_deposit_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_creates_wager_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_creates_loss_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_deposit_limit_enforcement(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_wager_limit_enforcement(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_loss_limit_enforcement(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_creates_self_exclusion(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_self_exclusion_status(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_allows_play_after_exclusion_expires(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_creates_permanent_self_exclusion(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_sets_session_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_starts_gaming_session(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_session_timeout(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_sets_reality_check_interval(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_checks_if_user_can_play(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_gets_user_statistics(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_removes_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_validates_limit_amounts(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_enforces_cooldown_period_for_limit_increases(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\ResponsibleGamingServiceTest::it_allows_immediate_limit_decreases(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_checks_for_vip_upgrade(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_upgrades_user_to_next_vip_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_skips_levels_if_user_qualifies_for_higher_tier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_calculates_vip_benefits(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_gets_progress_to_next_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::diamond_users_have_no_next_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_calculates_cashback_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::higher_vip_levels_get_more_cashback(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_checks_for_downgrade(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_never_downgrades_below_bronze(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_applies_vip_wagering_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::it_gets_all_vip_levels(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\VipServiceTest::vip_levels_are_ordered_by_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_gets_user_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_credits_real_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_credits_bonus_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_deducts_real_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_throws_exception_when_insufficient_real_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_deducts_bet_from_bonus_first_then_real(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_deducts_bet_from_real_when_no_bonus(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_credits_win_payout(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_locks_balance_for_pending_withdrawal(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_unlocks_balance_after_withdrawal_rejection(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_releases_locked_balance_after_withdrawal_approval(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_transfers_between_users(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_creates_transaction_records(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::wallet_operations_are_atomic(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\WalletServiceTest::it_handles_concurrent_balance_updates(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_can_register_with_phone_and_password(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_cannot_register_with_existing_phone(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_can_login_with_phone_and_password(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_cannot_login_with_wrong_password(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::guest_user_can_be_created(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::authenticated_user_can_get_profile(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::unauthenticated_user_cannot_access_protected_routes(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_can_logout(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::registration_creates_wallet_automatically(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::new_user_gets_bronze_vip_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::password_must_be_confirmed(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::phone_format_is_validated(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\AuthenticationTest::user_can_register_with_valid_referral_code(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::user_can_get_current_crash_round(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::user_can_place_crash_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::crash_bet_requires_valid_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::crash_bet_requires_sufficient_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::user_can_cashout_crash_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::auto_cashout_works_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::cannot_cashout_already_cashed_out_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\CrashGameTest::crash_game_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_can_request_deposit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_request_validates_minimum_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_request_validates_maximum_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_request_requires_reference_number(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_request_requires_valid_gcash_account(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_can_view_pending_deposits(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_can_view_deposit_history(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_can_cancel_pending_deposit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_cannot_cancel_approved_deposit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::user_cannot_view_other_users_deposits(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_creates_audit_log(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::deposit_respects_gcash_daily_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DepositWorkflowTest::duplicate_reference_numbers_are_rejected(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::user_can_play_dice_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_result_is_within_valid_range(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_deducts_bet_from_wallet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_creates_bet_record(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_uses_provably_fair_seeds(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_requires_authentication(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_validates_bet_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_validates_target_range(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_validates_prediction(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::user_cannot_bet_more_than_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::winning_bet_credits_wallet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_calculates_correct_win_chance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\DiceGameTest::dice_game_increments_nonce(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::user_can_start_hilo_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::user_can_predict_higher(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::user_can_predict_lower(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::prediction_must_be_valid(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::multiplier_increases_with_correct_predictions(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::user_can_cashout_hilo(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::wrong_prediction_ends_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::hilo_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\HiLoGameTest::cannot_predict_on_ended_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::user_can_play_keno(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_requires_valid_number_count(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_requires_unique_numbers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_numbers_must_be_in_valid_range(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_calculates_matches_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_payout_increases_with_more_matches(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_deducts_bet_from_wallet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_accepts_different_spot_counts(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_drawn_numbers_are_unique(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\KenoGameTest::keno_drawn_numbers_are_in_valid_range(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::user_can_start_mines_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::mines_count_must_be_valid(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::user_can_reveal_safe_tile(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::revealing_mine_ends_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::user_can_cashout_mines_game(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::cannot_reveal_same_tile_twice(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::multiplier_increases_with_safe_reveals(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\MinesGameTest::mines_game_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::user_can_play_plinko(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_accepts_valid_risk_levels(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_rejects_invalid_risk_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_accepts_valid_row_counts(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_rejects_invalid_row_count(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_deducts_bet_from_wallet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_multiplier_matches_result_slot(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::plinko_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PlinkoGameTest::high_risk_has_higher_max_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::user_can_get_current_pump_round(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::user_can_place_pump_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::pump_bet_requires_valid_target_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::pump_bet_requires_sufficient_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::user_can_cashout_pump_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::auto_complete_triggers_at_target_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::cannot_cashout_already_cashed_out_pump_bet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::pump_game_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::pump_round_has_valid_structure(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::pump_multiplier_increases_over_time(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\PumpGameTest::cannot_place_bet_with_invalid_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_dice_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_rejects_invalid_server_seed_hash(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_mines_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_keno_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_plinko_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_crash_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_hilo_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_verifies_wheel_game_result(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::verification_endpoint_is_public(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_validates_required_fields(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_validates_game_type(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::it_returns_verification_instructions(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\VerificationTest::verification_result_is_deterministic(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::user_can_get_wheel_config(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::user_can_spin_wheel(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_accepts_valid_risk_levels(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_rejects_invalid_risk_level(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_deducts_bet_from_wallet(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_payout_matches_multiplier(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_records_bet_in_database(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_config_has_valid_segments(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_probabilities_sum_to_one(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::high_risk_has_higher_multipliers(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WheelGameTest::wheel_requires_sufficient_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_can_request_withdrawal(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::withdrawal_locks_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_cannot_withdraw_more_than_balance(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::withdrawal_validates_minimum_amount(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::withdrawal_requires_valid_gcash_number(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_can_view_withdrawal_history(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_can_cancel_pending_withdrawal(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_cannot_cancel_processing_withdrawal(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_cannot_withdraw_with_active_bonus(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::withdrawal_creates_audit_log(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::withdrawal_enforces_daily_limit(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\WithdrawalWorkflowTest::user_cannot_have_multiple_pending_withdrawals(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   PASS  Tests\Unit\EncryptionServiceTest
   it encrypts and decrypts generic values                              0.23s  
   it encrypts and decrypts phone numbers                               0.01s  
   it encrypts and decrypts emails                                      0.01s  
   it encrypts and decrypts ip addresses                                0.01s  
   it handles null values                                               0.01s  
   it handles empty strings                                             0.01s  
   it masks generic values                                              0.01s  
   it masks phone numbers                                               0.01s  
   it masks emails                                                      0.01s  
   it masks card numbers                                                0.01s  
   it creates consistent hashes                                         0.01s  
   it verifies hashes correctly                                         0.01s  
   it creates different hashes for different values                     0.01s  
   encrypted values are different each time                             0.01s  
   it handles special characters in encryption                          0.01s  
   it handles unicode in encryption                                     0.01s  
   it handles long values                                               0.01s  
   it returns null for invalid encrypted data                           0.02s  
   masked values preserve length indication                             0.01s  

   PASS  Tests\Unit\ExampleTest
   that true is true                                                    0.01s  

   FAIL  Tests\Unit\GdprServiceTest
   it exports user data to zip                                          0.04s  
   it includes user profile in export                                   0.01s  
   it includes wallet data in export                                    0.01s  
   it includes transactions in export                                   0.01s  
   it includes bets in export                                           0.01s  
   it includes bonuses in export                                        0.01s  
   it deletes user data                                                 0.01s  
   it anonymizes user when configured                                   0.01s  
   it preserves financial records                                       0.01s  
   it generates valid json export                                       0.01s  
   it handles user without data                                         0.02s  
   it handles invalid export                                            0.02s  

   FAIL  Tests\Unit\ProvablyFairServiceTest
   it generates deterministic result hash                               0.03s  
   it generates different hashes for different nonces                   0.01s  
   it converts hash to dice result in valid range                       0.01s  
   it converts hash to mines positions                                  0.01s  
   it converts hash to keno numbers                                     0.01s  
   it converts hash to crash multiplier                                 0.01s  
   it converts hash to card                                             0.01s  
   it converts hash to plinko path                                      0.01s  
   it gets plinko multipliers for risk levels                           0.01s  
   it gets wheel config for risk levels                                 0.01s  
   it selects wheel segment based on float                              0.01s  
   it verifies result correctly                                         0.01s  
   it fails verification with wrong hash                                0.01s  
   it creates new seed for user                                         0.01s  
   it gets or creates active seed                                       0.01s  
   hash to number returns float between 0 and 1                         0.01s  
   hash to float is alias of hash to number                             0.01s  

   FAIL  Tests\Unit\ResponsibleGamingServiceTest
   it creates deposit limit                                             0.02s  
   it creates wager limit                                               0.01s  
   it creates loss limit                                                0.01s  
   it checks deposit limit enforcement                                  0.01s  
   it checks wager limit enforcement                                    0.01s  
   it checks loss limit enforcement                                     0.01s  
   it creates self exclusion                                            0.01s  
   it checks self exclusion status                                      0.01s  
   it allows play after exclusion expires                               0.01s  
   it creates permanent self exclusion                                  0.01s  
   it sets session limit                                                0.01s  
   it starts gaming session                                             0.01s  
   it checks session timeout                                            0.01s  
   it sets reality check interval                                       0.01s  
   it checks if user can play                                           0.01s  
   it gets user statistics                                              0.01s  
   it removes limit                                                     0.01s  
   it validates limit amounts                                           0.01s  
   it enforces cooldown period for limit increases                      0.01s  
   it allows immediate limit decreases                                  0.01s  

   FAIL  Tests\Unit\VipServiceTest
   it checks for vip upgrade
   it upgrades user to next vip level
   it skips levels if user qualifies for higher tier
   it calculates vip benefits
   it gets progress to next level
   diamond users have no next level
   it calculates cashback amount
   higher vip levels get more cashback
   it checks for downgrade
   it never downgrades below bronze
   it applies vip wagering multiplier
   it gets all vip levels
   vip levels are ordered by level

   FAIL  Tests\Unit\WalletServiceTest
   it gets user balance                                                 0.01s  
   it credits real balance                                              0.01s  
   it credits bonus balance                                             0.01s  
   it deducts real balance                                              0.01s  
   it throws exception when insufficient real balance                   0.01s  
   it deducts bet from bonus first then real                            0.01s  
   it deducts bet from real when no bonus                               0.01s  
   it credits win payout                                                0.01s  
   it locks balance for pending withdrawal                              0.01s  
   it unlocks balance after withdrawal rejection                        0.01s  
   it releases locked balance after withdrawal approval                 0.01s  
   it transfers between users                                           0.01s  
   it creates transaction records                                       0.01s  
   wallet operations are atomic                                         0.01s  
   it handles concurrent balance updates                                0.01s  

   FAIL  Tests\Feature\AuthenticationTest
   user can register with phone and password
   user cannot register with existing phone
   user can login with phone and password
   user cannot login with wrong password
   guest user can be created
   authenticated user can get profile
   unauthenticated user cannot access protected routes
   user can logout
   registration creates wallet automatically
   new user gets bronze vip level
   password must be confirmed
   phone format is validated
   user can register with valid referral code

   FAIL  Tests\Feature\CrashGameTest
   user can get current crash round                                     0.04s  
   user can place crash bet                                             0.01s  
   crash bet requires valid amount                                      0.01s  
   crash bet requires sufficient balance                                0.01s  
   user can cashout crash bet                                           0.02s  
   auto cashout works correctly                                         0.01s  
   cannot cashout already cashed out bet                                0.02s  
   crash game records bet in database                                   0.01s  

   FAIL  Tests\Feature\DepositWorkflowTest
   user can request deposit
   deposit request validates minimum amount
   deposit request validates maximum amount
   deposit request requires reference number
   deposit request requires valid gcash account
   user can view pending deposits
   user can view deposit history
   user can cancel pending deposit
   user cannot cancel approved deposit
   user cannot view other users deposits
   deposit creates audit log
   deposit respects gcash daily limit
   duplicate reference numbers are rejected

   FAIL  Tests\Feature\DiceGameTest
   user can play dice game                                              0.02s  
   dice result is within valid range                                    0.01s  
   dice game deducts bet from wallet                                    0.01s  
   dice game creates bet record                                         0.01s  
   dice game uses provably fair seeds                                   0.01s  
   dice game requires authentication                                    0.01s  
   dice game validates bet amount                                       0.01s  
   dice game validates target range                                     0.02s  
   dice game validates prediction                                       0.01s  
   user cannot bet more than balance                                    0.01s  
   winning bet credits wallet                                           0.07s  
   dice game calculates correct win chance                              0.01s  
   dice game increments nonce                                           0.02s  

   PASS  Tests\Feature\ExampleTest
   the application returns a successful response                        0.02s  

   FAIL  Tests\Feature\HiLoGameTest
   user can start hilo game                                             0.01s  
   user can predict higher                                              0.01s  
   user can predict lower                                               0.02s  
   prediction must be valid                                             0.01s  
  ! multiplier increases with correct predictions  This test did not p 0.03s  
   user can cashout hilo                                                0.01s  
   wrong prediction ends game                                           0.01s  
   hilo records bet in database                                         0.01s  
   cannot predict on ended game                                         0.01s  

   FAIL  Tests\Feature\KenoGameTest
   user can play keno                                                   0.02s  
   keno requires valid number count                                     0.02s  
   keno requires unique numbers                                         0.01s  
   keno numbers must be in valid range                                  0.01s  
   keno calculates matches correctly                                    0.01s  
   keno payout increases with more matches  Need more variety in matc 0.04s  
   keno deducts bet from wallet                                         0.01s  
   keno accepts different spot counts                                   0.01s  
   keno records bet in database                                         0.01s  
   keno drawn numbers are unique                                        0.01s  
   keno drawn numbers are in valid range                                0.01s  

   FAIL  Tests\Feature\MinesGameTest
   user can start mines game                                            0.02s  
   mines count must be valid                                            0.01s  
   user can reveal safe tile                                            0.01s  
   revealing mine ends game                                             0.04s  
   user can cashout mines game                                          0.02s  
   cannot reveal same tile twice                                        0.01s  
   multiplier increases with safe reveals                               0.01s  
   mines game records bet in database                                   0.01s  

   FAIL  Tests\Feature\PlinkoGameTest
   user can play plinko                                                 0.02s  
   plinko accepts valid risk levels                                     0.02s  
   plinko rejects invalid risk level                                    0.01s  
   plinko accepts valid row counts                                      0.01s  
   plinko rejects invalid row count                                     0.01s  
   plinko deducts bet from wallet                                       0.01s  
   plinko multiplier matches result slot                                0.01s  
   plinko records bet in database                                       0.01s  
   high risk has higher max multiplier                                  0.05s  

   FAIL  Tests\Feature\PumpGameTest
   user can get current pump round                                      0.02s  
   user can place pump bet                                              0.01s  
   pump bet requires valid target multiplier                            0.01s  
   pump bet requires sufficient balance                                 0.01s  
   user can cashout pump bet                                            1.02s  
   auto complete triggers at target multiplier                          0.01s  
   cannot cashout already cashed out pump bet                           0.02s  
   pump game records bet in database                                    0.02s  
   pump round has valid structure                                       0.01s  
   pump multiplier increases over time                                  1.02s  
   cannot place bet with invalid amount                                 0.01s  

   FAIL  Tests\Feature\VerificationTest
   it verifies dice game result                                         0.02s  
   it rejects invalid server seed hash                                  0.01s  
   it verifies mines game result                                        0.01s  
   it verifies keno game result                                         0.01s  
   it verifies plinko game result                                       0.01s  
   it verifies crash game result                                        0.01s  
   it verifies hilo game result                                         0.01s  
   it verifies wheel game result                                        0.02s  
   verification endpoint is public                                      0.01s  
   it validates required fields                                         0.01s  
   it validates game type                                               0.01s  
   it returns verification instructions                                 0.01s  
   verification result is deterministic                                 0.01s  

   FAIL  Tests\Feature\WheelGameTest
   user can get wheel config                                            0.02s  
   user can spin wheel                                                  0.01s  
   wheel accepts valid risk levels                                      0.01s  
   wheel rejects invalid risk level                                     0.01s  
   wheel deducts bet from wallet                                        0.02s  
   wheel payout matches multiplier                                      0.01s  
   wheel records bet in database                                        0.01s  
   wheel config has valid segments                                      0.01s  
   wheel probabilities sum to one                                       0.01s  
   high risk has higher multipliers                                     0.05s  
   wheel requires sufficient balance                                    0.01s  

   FAIL  Tests\Feature\WithdrawalWorkflowTest
   user can request withdrawal                                          0.02s  
   withdrawal locks balance                                             0.02s  
   user cannot withdraw more than balance                               0.01s  
   withdrawal validates minimum amount                                  0.01s  
   withdrawal requires valid gcash number                               0.01s  
   user can view withdrawal history                                     0.01s  
   user can cancel pending withdrawal                                   0.01s  
   user cannot cancel processing withdrawal                             0.01s  
   user cannot withdraw with active bonus                               0.01s  
   withdrawal creates audit log                                         0.01s  
   withdrawal enforces daily limit                                      0.02s  
   user cannot have multiple pending withdrawals                        0.01s  
    
   FAILED  Tests\Unit\GdprServiceTest > it exports user data to z  TypeError   
  App\Services\GdprService::exportUserData(): Argument #1 ($user) must be of type App\Models\User, int given, called in /home/neng/Desktop/sugalan/tests/Unit/GdprServiceTest.php on line 52

  at app/Services/GdprService.php:27
     23      * 
     24      * @param User $user
     25      * @return string Path to the exported ZIP file
     26      */
    27     public function exportUserData(User $user): string
     28     {
     29         Log::info('GDPR data export initiated', ['user_id' => $user->id]);
     30 
     31         $exportData = [

  1   app/Services/GdprService.php:27
  2   tests/Unit/GdprServiceTest.php:52

    
   FAILED  Tests\Unit\GdprServiceTest > it includes user profile in e  Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:73
     69 
     70     /** @test */
     71     public function it_includes_user_profile_in_export()
     72     {
    73         $data = $this->gdprService->getUserData($this->user->id);
     74 
     75         $this->assertArrayHasKey('profile', $data);
     76         $this->assertEquals($this->user->email, $data['profile']['email']);
     77         $this->assertEquals($this->user->phone_number, $data['profile']['phone_number']);

  1   tests/Unit/GdprServiceTest.php:73

    
   FAILED  Tests\Unit\GdprServiceTest > it includes wallet data in ex  Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:83
     79 
     80     /** @test */
     81     public function it_includes_wallet_data_in_export()
     82     {
    83         $data = $this->gdprService->getUserData($this->user->id);
     84 
     85         $this->assertArrayHasKey('wallet', $data);
     86         $this->assertArrayHasKey('real_balance', $data['wallet']);
     87         $this->assertArrayHasKey('bonus_balance', $data['wallet']);

  1   tests/Unit/GdprServiceTest.php:83

    
   FAILED  Tests\Unit\GdprServiceTest > it includes transactions in e  Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:93
     89 
     90     /** @test */
     91     public function it_includes_transactions_in_export()
     92     {
    93         $data = $this->gdprService->getUserData($this->user->id);
     94 
     95         $this->assertArrayHasKey('transactions', $data);
     96         $this->assertCount(3, $data['transactions']);
     97     }

  1   tests/Unit/GdprServiceTest.php:93

    
   FAILED  Tests\Unit\GdprServiceTest > it includes bets in export      Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:102
     98 
     99     /** @test */
    100     public function it_includes_bets_in_export()
    101     {
   102         $data = $this->gdprService->getUserData($this->user->id);
    103 
    104         $this->assertArrayHasKey('bets', $data);
    105         $this->assertCount(5, $data['bets']);
    106     }

  1   tests/Unit/GdprServiceTest.php:102

    
   FAILED  Tests\Unit\GdprServiceTest > it includes bonuses in export   Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:111
    107 
    108     /** @test */
    109     public function it_includes_bonuses_in_export()
    110     {
   111         $data = $this->gdprService->getUserData($this->user->id);
    112 
    113         $this->assertArrayHasKey('bonuses', $data);
    114         $this->assertCount(2, $data['bonuses']);
    115     }

  1   tests/Unit/GdprServiceTest.php:111

    
   FAILED  Tests\Unit\GdprServiceTest > it deletes user data        TypeError   
  App\Services\GdprService::deleteUserData(): Argument #1 ($user) must be of type App\Models\User, int given, called in /home/neng/Desktop/sugalan/tests/Unit/GdprServiceTest.php on line 120

  at app/Services/GdprService.php:99
     95      * @param User $user
     96      * @param string $reason
     97      * @return array Deletion summary
     98      */
    99     public function deleteUserData(User $user, string $reason = 'User request'): array
    100     {
    101         Log::warning('GDPR data deletion initiated', [
    102             'user_id' => $user->id,
    103             'reason' => $reason,

  1   app/Services/GdprService.php:99
  2   tests/Unit/GdprServiceTest.php:120

    
   FAILED  Tests\Unit\GdprServiceTest > it anonymizes user when c  TypeError   
  App\Services\GdprService::deleteUserData(): Argument #1 ($user) must be of type App\Models\User, int given, called in /home/neng/Desktop/sugalan/tests/Unit/GdprServiceTest.php on line 134

  at app/Services/GdprService.php:99
     95      * @param User $user
     96      * @param string $reason
     97      * @return array Deletion summary
     98      */
    99     public function deleteUserData(User $user, string $reason = 'User request'): array
    100     {
    101         Log::warning('GDPR data deletion initiated', [
    102             'user_id' => $user->id,
    103             'reason' => $reason,

  1   app/Services/GdprService.php:99
  2   tests/Unit/GdprServiceTest.php:134

    
   FAILED  Tests\Unit\GdprServiceTest > it preserves financial re  TypeError   
  App\Services\GdprService::deleteUserData(): Argument #1 ($user) must be of type App\Models\User, int given, called in /home/neng/Desktop/sugalan/tests/Unit/GdprServiceTest.php on line 147

  at app/Services/GdprService.php:99
     95      * @param User $user
     96      * @param string $reason
     97      * @return array Deletion summary
     98      */
    99     public function deleteUserData(User $user, string $reason = 'User request'): array
    100     {
    101         Log::warning('GDPR data deletion initiated', [
    102             'user_id' => $user->id,
    103             'reason' => $reason,

  1   app/Services/GdprService.php:99
  2   tests/Unit/GdprServiceTest.php:147

    
   FAILED  Tests\Unit\GdprServiceTest > it generates valid json expor  Error   
  Call to undefined method App\Services\GdprService::getUserData()

  at tests/Unit/GdprServiceTest.php:156
    152 
    153     /** @test */
    154     public function it_generates_valid_json_export()
    155     {
   156         $data = $this->gdprService->getUserData($this->user->id);
    157         $json = json_encode($data);
    158 
    159         $this->assertJson($json);
    160         $decoded = json_decode($json, true);

  1   tests/Unit/GdprServiceTest.php:156

    
   FAILED  Tests\Unit\GdprServiceTest > it handles invalid export               
  Failed asserting that exception of type "Error" matches expected exception "TypeError". Message was: "Call to a member function toIso8601String() on null" at
/home/neng/Desktop/sugalan/app/Services/GdprService.php:222
/home/neng/Desktop/sugalan/app/Services/GdprService.php:34
/home/neng/Desktop/sugalan/tests/Unit/GdprServiceTest.php:188
.

    
   FAILED  Tests\Unit\ProvablyFairServiceTest > it converts hash to mines po   
  Failed asserting that 88 is less than 25.

  at tests/Unit/ProvablyFairServiceTest.php:70
     66         $this->assertCount(3, array_unique($positions)); // No duplicates
     67         
     68         foreach ($positions as $position) {
     69             $this->assertGreaterThanOrEqual(0, $position);
    70             $this->assertLessThan(25, $position);
     71         }
     72     }
     73 
     74     /** @test */

  1   tests/Unit/ProvablyFairServiceTest.php:70

    
   FAILED  Tests\Unit\ProvablyFairServiceTest > it creates n  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 FOREIGN KEY constraint failed (Connection: sqlite, SQL: insert into "seeds" ("user_id", "server_seed", "server_seed_hash", "client_seed", "nonce", "is_active", "updated_at", "created_at") values (1, p5C1ooAtWXmeZOEcLWxnIF7wioAVm2ZZw1E1mL1cFGS789D6SmHuEZ0HQQstooTU, e0818b68ddf7a09c553f125ded18a24ef1ae0e71228d6dc23286afa24487c948, LdMHtmVvt8mMIM2d, 0, 1, 2025-12-22 15:19:31, 2025-12-22 15:19:31))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+19 vendor frames [22m
  20  app/Services/ProvablyFairService.php:42
  21  tests/Unit/ProvablyFairServiceTest.php:209

    
   FAILED  Tests\Unit\ProvablyFairServiceTest > it gets or c  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 FOREIGN KEY constraint failed (Connection: sqlite, SQL: insert into "seeds" ("user_id", "server_seed", "server_seed_hash", "client_seed", "nonce", "is_active", "updated_at", "created_at") values (1, 1ifr3Tw5VVEkaqJlP4IaP5GeVUNRe93TlAhBvIU8i6D9T7vOeXYMKHOLgzLunXc5, 51aec4a3d43c77e0d896bf4fb98630a6ca5a6e7e240639b8438df44fe8a39a48, nGA5jJ2I40IGW09o, 0, 1, 2025-12-22 15:19:31, 2025-12-22 15:19:31))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+19 vendor frames [22m
  20  app/Services/ProvablyFairService.php:42
  21  app/Services/ProvablyFairService.php:29

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it creates depos  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:30
     26 
     27     /** @test */
     28     public function it_creates_deposit_limit()
     29     {
    30         $result = $this->service->setDepositLimit($this->user->id, 'daily', 5000);
     31 
     32         $this->assertTrue($result);
     33         
     34         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:30

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it creates wager  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setWagerLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:41
     37 
     38     /** @test */
     39     public function it_creates_wager_limit()
     40     {
    41         $result = $this->service->setWagerLimit($this->user->id, 'weekly', 10000);
     42 
     43         $this->assertTrue($result);
     44         
     45         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:41

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it creates loss   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setLossLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:52
     48 
     49     /** @test */
     50     public function it_creates_loss_limit()
     51     {
    52         $result = $this->service->setLossLimit($this->user->id, 'monthly', 20000);
     53 
     54         $this->assertTrue($result);
     55         
     56         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:52

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks deposi  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:63
     59 
     60     /** @test */
     61     public function it_checks_deposit_limit_enforcement()
     62     {
    63         $this->service->setDepositLimit($this->user->id, 'daily', 5000);
     64         
     65         // Should allow deposit within limit
     66         $canDeposit = $this->service->checkDepositLimit($this->user->id, 3000);
     67         $this->assertTrue($canDeposit);

  1   tests/Unit/ResponsibleGamingServiceTest.php:63

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks wager   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setWagerLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:77
     73 
     74     /** @test */
     75     public function it_checks_wager_limit_enforcement()
     76     {
    77         $this->service->setWagerLimit($this->user->id, 'daily', 10000);
     78         
     79         $canWager = $this->service->checkWagerLimit($this->user->id, 8000);
     80         $this->assertTrue($canWager);
     81

  1   tests/Unit/ResponsibleGamingServiceTest.php:77

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks loss l  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setLossLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:89
     85 
     86     /** @test */
     87     public function it_checks_loss_limit_enforcement()
     88     {
    89         $this->service->setLossLimit($this->user->id, 'daily', 2000);
     90         
     91         $canPlay = $this->service->checkLossLimit($this->user->id, 1500);
     92         $this->assertTrue($canPlay);
     93

  1   tests/Unit/ResponsibleGamingServiceTest.php:89

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it creates self   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setSelfExclusion()

  at tests/Unit/ResponsibleGamingServiceTest.php:101
     97 
     98     /** @test */
     99     public function it_creates_self_exclusion()
    100     {
   101         $result = $this->service->setSelfExclusion($this->user->id, 24);
    102 
    103         $this->assertTrue($result);
    104         
    105         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:101

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks self e  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setSelfExclusion()

  at tests/Unit/ResponsibleGamingServiceTest.php:113
    109 
    110     /** @test */
    111     public function it_checks_self_exclusion_status()
    112     {
   113         $this->service->setSelfExclusion($this->user->id, 24);
    114         
    115         $isExcluded = $this->service->isUserSelfExcluded($this->user->id);
    116         $this->assertTrue($isExcluded);
    117     }

  1   tests/Unit/ResponsibleGamingServiceTest.php:113

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it allo  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 CHECK constraint failed: self_exclusion_status (Connection: sqlite, SQL: insert into "responsible_gaming" ("user_id", "self_exclusion_status", "updated_at", "created_at") values (1, active, 2025-12-22 15:19:31, 2025-12-22 15:19:31))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+19 vendor frames [22m
  20  tests/Unit/ResponsibleGamingServiceTest.php:122

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it creates perma  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setSelfExclusion()

  at tests/Unit/ResponsibleGamingServiceTest.php:135
    131 
    132     /** @test */
    133     public function it_creates_permanent_self_exclusion()
    134     {
   135         $result = $this->service->setSelfExclusion($this->user->id, 0); // 0 = permanent
    136 
    137         $this->assertTrue($result);
    138         
    139         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:135

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it sets session   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setSessionLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:146
    142 
    143     /** @test */
    144     public function it_sets_session_limit()
    145     {
   146         $result = $this->service->setSessionLimit($this->user->id, 60);
    147 
    148         $this->assertTrue($result);
    149         
    150         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:146

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it starts ga  TypeError   
  App\Services\ResponsibleGamingService::startSession(): Argument #1 ($user) must be of type App\Models\User, int given, called in /home/neng/Desktop/sugalan/tests/Unit/ResponsibleGamingServiceTest.php on line 157

  at app/Services/ResponsibleGamingService.php:365
    361 
    362     /**
    363      * Start session tracking
    364      */
   365     public function startSession(User $user): ResponsibleGaming
    366     {
    367         $settings = $this->getSettings($user);
    368 
    369         $settings->update([

  1   app/Services/ResponsibleGamingService.php:365
  2   tests/Unit/ResponsibleGamingServiceTest.php:157

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks sessio  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setSessionLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:168
    164 
    165     /** @test */
    166     public function it_checks_session_timeout()
    167     {
   168         $this->service->setSessionLimit($this->user->id, 60);
    169         
    170         ResponsibleGaming::where('user_id', $this->user->id)->update([
    171             'current_session_start' => Carbon::now()->subMinutes(65),
    172         ]);

  1   tests/Unit/ResponsibleGamingServiceTest.php:168

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it sets reality   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setRealityCheck()

  at tests/Unit/ResponsibleGamingServiceTest.php:181
    177 
    178     /** @test */
    179     public function it_sets_reality_check_interval()
    180     {
   181         $result = $this->service->setRealityCheck($this->user->id, 30);
    182 
    183         $this->assertTrue($result);
    184         
    185         $settings = ResponsibleGaming::where('user_id', $this->user->id)->first();

  1   tests/Unit/ResponsibleGamingServiceTest.php:181

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it checks if use  Error   
  Call to undefined method App\Services\ResponsibleGamingService::canUserPlay()

  at tests/Unit/ResponsibleGamingServiceTest.php:193
    189     /** @test */
    190     public function it_checks_if_user_can_play()
    191     {
    192         // User with no restrictions should be able to play
   193         $canPlay = $this->service->canUserPlay($this->user->id);
    194         $this->assertTrue($canPlay);
    195         
    196         // User with active self-exclusion cannot play
    197         $this->service->setSelfExclusion($this->user->id, 24);

  1   tests/Unit/ResponsibleGamingServiceTest.php:193

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it gets user sta  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:205
    201 
    202     /** @test */
    203     public function it_gets_user_statistics()
    204     {
   205         $this->service->setDepositLimit($this->user->id, 'daily', 5000);
    206         $this->service->setWagerLimit($this->user->id, 'daily', 10000);
    207         
    208         $stats = $this->service->getStatistics($this->user->id);
    209

  1   tests/Unit/ResponsibleGamingServiceTest.php:205

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it removes limit   Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:218
    214 
    215     /** @test */
    216     public function it_removes_limit()
    217     {
   218         $this->service->setDepositLimit($this->user->id, 'daily', 5000);
    219         
    220         $result = $this->service->removeLimit($this->user->id, 'deposit', 'daily');
    221         $this->assertTrue($result);
    222

  1   tests/Unit/ResponsibleGamingServiceTest.php:218

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it validates lim  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:231
    227     /** @test */
    228     public function it_validates_limit_amounts()
    229     {
    230         // Minimum limit
   231         $result = $this->service->setDepositLimit($this->user->id, 'daily', 50);
    232         $this->assertFalse($result); // Below minimum
    233         
    234         // Valid limit
    235         $result = $this->service->setDepositLimit($this->user->id, 'daily', 1000);

  1   tests/Unit/ResponsibleGamingServiceTest.php:231

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it enforces cool  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:242
    238 
    239     /** @test */
    240     public function it_enforces_cooldown_period_for_limit_increases()
    241     {
   242         $this->service->setDepositLimit($this->user->id, 'daily', 5000);
    243         
    244         // Immediate increase should be blocked
    245         $result = $this->service->setDepositLimit($this->user->id, 'daily', 10000);
    246         $this->assertFalse($result);

  1   tests/Unit/ResponsibleGamingServiceTest.php:242

    
   FAILED  Tests\Unit\ResponsibleGamingServiceTest > it allows immedi  Error   
  Call to undefined method App\Services\ResponsibleGamingService::setDepositLimit()

  at tests/Unit/ResponsibleGamingServiceTest.php:252
    248 
    249     /** @test */
    250     public function it_allows_immediate_limit_decreases()
    251     {
   252         $this->service->setDepositLimit($this->user->id, 'daily', 5000);
    253         
    254         // Decrease should work immediately
    255         $result = $this->service->setDepositLimit($this->user->id, 'daily', 3000);
    256         $this->assertTrue($result);

  1   tests/Unit/ResponsibleGamingServiceTest.php:252

    
   FAILED  Tests\Unit\VipServiceTest > it checks  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it upgrad  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it skips   BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it calcul  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it gets p  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > diamond u  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it calcul  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > higher vi  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it checks  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it never   BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it applie  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > it gets a  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\VipServiceTest > vip level  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Unit/VipServiceTest.php:24

    
   FAILED  Tests\Unit\WalletServiceTest > it gets user balance          Error   
  Call to undefined method App\Services\WalletService::getBalance()

  at tests/Unit/WalletServiceTest.php:35
     31 
     32     /** @test */
     33     public function it_gets_user_balance()
     34     {
    35         $balance = $this->service->getBalance($this->user);
     36 
     37         $this->assertEquals(1000.00, $balance['real_balance']);
     38         $this->assertEquals(500.00, $balance['bonus_balance']);
     39         $this->assertEquals(0.00, $balance['locked_balance']);

  1   tests/Unit/WalletServiceTest.php:35

    
   FAILED  Tests\Unit\WalletServiceTest > it credits real balance       Error   
  Call to undefined method App\Services\WalletService::credit()

  at tests/Unit/WalletServiceTest.php:46
     42 
     43     /** @test */
     44     public function it_credits_real_balance()
     45     {
    46         $this->service->credit($this->user, 250.00, 'deposit', 'Test deposit');
     47 
     48         $wallet = $this->user->wallet->fresh();
     49         $this->assertEquals(1250.00, $wallet->real_balance);
     50

  1   tests/Unit/WalletServiceTest.php:46

    
   FAILED  Tests\Unit\WalletServiceTest > it credits bonus balance      Error   
  Call to undefined method App\Services\WalletService::creditBonus()

  at tests/Unit/WalletServiceTest.php:63
     59 
     60     /** @test */
     61     public function it_credits_bonus_balance()
     62     {
    63         $this->service->creditBonus($this->user, 100.00, 'bonus', 'Test bonus');
     64 
     65         $wallet = $this->user->wallet->fresh();
     66         $this->assertEquals(600.00, $wallet->bonus_balance);
     67     }

  1   tests/Unit/WalletServiceTest.php:63

    
   FAILED  Tests\Unit\WalletServiceTest > it deducts real balance       Error   
  Call to undefined method App\Services\WalletService::deduct()

  at tests/Unit/WalletServiceTest.php:72
     68 
     69     /** @test */
     70     public function it_deducts_real_balance()
     71     {
    72         $this->service->deduct($this->user, 300.00, 'withdrawal', 'Test withdrawal');
     73 
     74         $wallet = $this->user->wallet->fresh();
     75         $this->assertEquals(700.00, $wallet->real_balance);
     76     }

  1   tests/Unit/WalletServiceTest.php:72

    
   FAILED  Tests\Unit\WalletServiceTest > it throws exception when insuffici   
  Failed asserting that exception of type "Error" matches expected exception "Exception". Message was: "Call to undefined method App\Services\WalletService::deduct()" at
/home/neng/Desktop/sugalan/tests/Unit/WalletServiceTest.php:84
.

    
   FAILED  Tests\Unit\WalletServiceTest > it deducts bet from bonus first th   
  Failed asserting that '300.00' matches expected 800.0.

  at tests/Unit/WalletServiceTest.php:95
     91 
     92         $wallet = $this->user->wallet->fresh();
     93         
     94         // Should use 500 from bonus, 200 from real
    95         $this->assertEquals(800.00, $wallet->real_balance);
     96         $this->assertEquals(0.00, $wallet->bonus_balance);
     97         
     98         $this->assertEquals([
     99             'real' => 200.00,

  1   tests/Unit/WalletServiceTest.php:95

    
   FAILED  Tests\Unit\WalletServiceTest > it deducts bet from real when no b   
  Failed asserting that two arrays are equal.
   Array (
  -    'real' => 100.0
  -    'bonus' => 0.0
  +    'real_used' => 100.0
  +    'bonus_used' => 0
   )
  

  at tests/Unit/WalletServiceTest.php:116
    112         $wallet = $this->user->wallet->fresh();
    113         $this->assertEquals(900.00, $wallet->real_balance);
    114         $this->assertEquals(0.00, $wallet->bonus_balance);
    115         
   116         $this->assertEquals([
    117             'real' => 100.00,
    118             'bonus' => 0.00
    119         ], $balanceUsed);
    120     }

  1   tests/Unit/WalletServiceTest.php:116

    
   FAILED  Tests\Unit\WalletServiceTest > it credits win payout                 
  Failed asserting that '1000.00' matches expected 1500.0.

  at tests/Unit/WalletServiceTest.php:128
    124     {
    125         $this->service->creditWin($this->user, 500.00, 'dice', 'Game win');
    126 
    127         $wallet = $this->user->wallet->fresh();
   128         $this->assertEquals(1500.00, $wallet->real_balance);
    129     }
    130 
    131     /** @test */
    132     public function it_locks_balance_for_pending_withdrawal()

  1   tests/Unit/WalletServiceTest.php:128

    
   FAILED  Tests\Unit\WalletServiceTest > it locks balance for pending withd   
  Failed asserting that '1000.00' matches expected 800.0.

  at tests/Unit/WalletServiceTest.php:137
    133     {
    134         $this->service->lockBalance($this->user, 200.00);
    135 
    136         $wallet = $this->user->wallet->fresh();
   137         $this->assertEquals(800.00, $wallet->real_balance);
    138         $this->assertEquals(200.00, $wallet->locked_balance);
    139     }
    140 
    141     /** @test */

  1   tests/Unit/WalletServiceTest.php:137

    
   FAILED  Tests\Unit\WalletServiceTest > it releases locked balance   Error   
  Call to undefined method App\Services\WalletService::releaseLockedBalance()

  at tests/Unit/WalletServiceTest.php:162
    158         // Lock balance
    159         $this->service->lockBalance($this->user, 200.00);
    160         
    161         // Release (deduct from locked)
   162         $this->service->releaseLockedBalance($this->user, 200.00);
    163 
    164         $wallet = $this->user->wallet->fresh();
    165         $this->assertEquals(800.00, $wallet->real_balance);
    166         $this->assertEquals(0.00, $wallet->locked_balance);

  1   tests/Unit/WalletServiceTest.php:162

    
   FAILED  Tests\Unit\WalletServiceTest > it transfers between users    Error   
  Call to undefined method App\Services\WalletService::transfer()

  at tests/Unit/WalletServiceTest.php:179
    175             'bonus_balance' => 0.00,
    176             'locked_balance' => 0.00,
    177         ]);
    178 
   179         $this->service->transfer($this->user, $user2, 100.00, 'Test transfer');
    180 
    181         $wallet1 = $this->user->wallet->fresh();
    182         $wallet2 = $user2->wallet->fresh();
    183

  1   tests/Unit/WalletServiceTest.php:179

    
   FAILED  Tests\Unit\WalletServiceTest > it creates transaction reco  Error   
  Call to undefined method App\Services\WalletService::credit()

  at tests/Unit/WalletServiceTest.php:191
    187 
    188     /** @test */
    189     public function it_creates_transaction_records()
    190     {
   191         $this->service->credit($this->user, 100.00, 'deposit', 'Test deposit');
    192 
    193         $transaction = Transaction::where('user_id', $this->user->id)->latest()->first();
    194         
    195         $this->assertNotNull($transaction);

  1   tests/Unit/WalletServiceTest.php:191

    
   FAILED  Tests\Unit\WalletServiceTest > wallet operations are atomi  Error   
  Call to undefined method App\Services\WalletService::deduct()

  at tests/Unit/WalletServiceTest.php:207
    203     public function wallet_operations_are_atomic()
    204     {
    205         try {
    206             \DB::transaction(function () {
   207                 $this->service->deduct($this->user, 500.00, 'test', 'Test');
    208                 throw new \Exception('Simulated error');
    209             });
    210         } catch (\Exception $e) {
    211             // Expected exception

  1   tests/Unit/WalletServiceTest.php:207
      [2m+3 vendor frames [22m
  5   tests/Unit/WalletServiceTest.php:206

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > gu  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > au  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > un  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > re  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > ne  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > pa  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > ph  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\AuthenticationTest > us  BindingResolutionException   
  Target class [Database\Seeders\VipLevelsSeeder] does not exist.

  at vendor/laravel/framework/src/Illuminate/Container/Container.php:961
    957 
    958         try {
    959             $reflector = new ReflectionClass($concrete);
    960         } catch (ReflectionException $e) {
   961             throw new BindingResolutionException("Target class [$concrete] does not exist.", 0, $e);
    962         }
    963 
    964         // If the type is not instantiable, the developer is attempting to resolve
    965         // an abstract type such as an Interface or Abstract Class and there is

      [2m+24 vendor frames [22m
  25  tests/Feature/AuthenticationTest.php:17

    
   FAILED  Tests\Feature\CrashGameTest > user can get current crash round       
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(45): Illuminate\Foundation\Testing\TestCase->getJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->user_can_get_current_crash_round()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:47
     43     public function user_can_get_current_crash_round()
     44     {
     45         $response = $this->getJson('/api/games/crash/current');
     46 
    47         $response->assertStatus(200)
     48             ->assertJson(['success' => true])
     49             ->assertJsonStructure([
     50                 'success',
     51                 'data' => [

    
   FAILED  Tests\Feature\CrashGameTest > user can place crash bet               
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(64): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->user_can_place_crash_bet()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:69
     65                 'bet_amount' => 50.00,
     66                 'auto_cashout' => 2.00,
     67             ]);
     68 
    69         $response->assertStatus(200)
     70             ->assertJson(['success' => true])
     71             ->assertJsonStructure([
     72                 'success',
     73                 'data' => [

    
   FAILED  Tests\Feature\CrashGameTest > crash bet requires valid amount        
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(90): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->crash_bet_requires_valid_amount()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:95
     91                 'bet_amount' => 0.50, // Below minimum
     92                 'auto_cashout' => 2.00,
     93             ]);
     94 
    95         $response->assertStatus(422)
     96             ->assertJson(['success' => false]);
     97     }
     98 
     99     /** @test */

    
   FAILED  Tests\Feature\CrashGameTest > crash bet requires sufficient balan   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(103): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->crash_bet_requires_sufficient_balance()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:108
    104                 'bet_amount' => 2000.00, // Exceeds balance
    105                 'auto_cashout' => 2.00,
    106             ]);
    107 
   108         $response->assertStatus(422)
    109             ->assertJson(['success' => false]);
    110     }
    111 
    112     /** @test */

    
   FAILED  Tests\Feature\CrashGameTest > user can cashout crash bet             
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(131): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->user_can_cashout_crash_bet()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:136
    132                 'bet_id' => $betId,
    133                 'current_multiplier' => 2.00,
    134             ]);
    135 
   136         $response->assertStatus(200)
    137             ->assertJson(['success' => true])
    138             ->assertJsonStructure([
    139                 'success',
    140                 'data' => [

    
   FAILED  Tests\Feature\CrashGameTest > auto cashout works correctly           
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php(152): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\CrashGameTest->auto_cashout_works_correctly()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/CrashGameTest.php:157
    153                 'bet_amount' => 50.00,
    154                 'auto_cashout' => 1.50,
    155             ]);
    156 
   157         $response->assertStatus(200)
    158             ->assertJson(['success' => true]);
    159         
    160         $betId = $response->json('data.bet_id');
    161

    
   FAILED  Tests\Feature\CrashGameTest > cannot cashout already cashed out b   
  Unable to find JSON: 

[{
    "success": false
}]

within response JSON:

[{
    "message": "Too few arguments to function App\\Http\\Middleware\\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected",
    "exception": "ArgumentCountError",
    "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php",
    "line": 19,
    "trace": [
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\ThrottleWithLogging",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php",
            "line": 33,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\LogApiRequests",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 807,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 786,
            "function": "runRouteWithinStack",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 750,
            "function": "runRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 739,
            "function": "dispatchToRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 201,
            "function": "dispatch",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 170,
            "function": "Illuminate\\Foundation\\Http\\{closure}",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php",
            "line": 25,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\SecurityHeaders",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php",
            "line": 31,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php",
            "line": 51,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TrimStrings",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php",
            "line": 27,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\ValidatePostSize",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php",
            "line": 110,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php",
            "line": 62,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\HandleCors",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php",
            "line": 58,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\TrustProxies",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php",
            "line": 22,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 176,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 145,
            "function": "sendRequestThroughRouter",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 607,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 573,
            "function": "call",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 411,
            "function": "json",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/tests/Feature/CrashGameTest.php",
            "line": 191,
            "function": "postJson",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 1657,
            "function": "cannot_cashout_already_cashed_out_bet",
            "class": "Tests\\Feature\\CrashGameTest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 515,
            "function": "runTest",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php",
            "line": 87,
            "function": "runBare",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 361,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
            "line": 64,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php",
            "line": 211,
            "function": "run",
            "class": "PHPUnit\\TextUI\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit",
            "line": 104,
            "function": "run",
            "class": "PHPUnit\\TextUI\\Application",
            "type": "->"
        }
    ]
}].


Failed asserting that an array has the subset Array &0 [
    'success' => false,
].
         'type' => '->',
       ),
     ),
  -  'success' => false,
   )
  

  at tests/Feature/CrashGameTest.php:198
    194             ]);
    195 
    196         // Should fail with either 400 (bet not found) or 500 (round not running)
    197         $this->assertContains($response->status(), [400, 500]);
   198         $response->assertJson(['success' => false]);
    199     }
    200 
    201     /** @test */
    202     public function crash_game_records_bet_in_database()

    
   FAILED  Tests\Feature\CrashGameTest > crash game records bet in database     
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "crash",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/CrashGameTest.php:210
    206                 'bet_amount' => 50.00,
    207                 'auto_cashout' => 2.00,
    208             ]);
    209 
   210         $this->assertDatabaseHas('bets', [
    211             'user_id' => $this->user->id,
    212             'game_type' => 'crash',
    213             'bet_amount' => 50.00,
    214         ]);

    
   FAILED  Tests\Feature\DepositWorkflowTest > user can requ  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Kellie Swift, 09175658823, ?, 1, 100000, 0, 2, eyJpdiI6IkJWWGFiUWNHNWIzTHp0T3MvWlhpa3c9PSIsInZhbHVlIjoiTTM3TG83Zno4ZVhESGtpSGVWL3ZIQT09IiwibWFjIjoiNTQwODYzMjYyZTMzODFiZjk3MmEyY2Y0NmNmODE0MmRkNTBiYWFhMzFkNTU3YTBkYjllNzIzNTk4MGRlMGQ4OCIsInRhZyI6IiJ9, 1b6d94830e2973872cebfb10ff98d1fefff4b794fe7492f7eff8efddde35cb76, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit reque  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Bennett Renner, 09176945546, ?, 1, 100000, 0, 7, eyJpdiI6IlVGVUsvUldrYVdtWkdFVitNL01lNFE9PSIsInZhbHVlIjoiR0piT2dGWm43R09HNlpsUFN3MmR5UT09IiwibWFjIjoiOWVlZmNmNzhiNWUzODdlZDYxMTBjMjdlMmYzZTY5MWU2OGJiZmQ2MDM2NDRmNWU5YzM3ZDY5Yjk2NzhmYWU2ZCIsInRhZyI6IiJ9, d0d4016f720b24162881aad0c35ef2d00389906b5d297d62067ed2ef0365d1e6, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit reque  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Miss Kimberly Ledner DVM, 09175436784, ?, 1, 100000, 0, 5, eyJpdiI6InpTTDlPdVRPQUIvUE1DbDBlSHMxNmc9PSIsInZhbHVlIjoidzlLTGYxRER6V1UyR2hqckVtWGVNQT09IiwibWFjIjoiOTkzNGU0ZmMxNTVhOWY3OGU4NWUwNWVlM2ZiM2NiNGQ4ODBmZjc2YWIzY2IzOWEzZmEwNjUyODIyYjQ0OWJjOCIsInRhZyI6IiJ9, 674b1b8869be441d376c01f0b02604f46954cf76a27053ce33abf1eb8dd37732, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit reque  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Dr. Aiden Gerlach V, 09177985905, ?, 1, 100000, 0, 3, eyJpdiI6IlkyWExka3FxNFhyOEpVSnJxNitZbXc9PSIsInZhbHVlIjoiWHlhb282Tk5TVGU5UGFRTlZmNmVldz09IiwibWFjIjoiM2NjYjI0N2RkNDc1NmUzNjQ3ZDdjNTdhMGU3NjhmMWRiNWM2MWU0MDkxZjMyMzI3MmU0NWRmOWUwOGFmMmJmZCIsInRhZyI6IiJ9, 5842fe356f17c6c3bd3a3f93f55d6f830d6caad07f7a04aed8f31608f13de6c5, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit reque  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Karl Bradtke, 09172385253, ?, 1, 100000, 0, 1, eyJpdiI6ImZwNTIrL2w5eXFlb3pXNjZsUEZwbHc9PSIsInZhbHVlIjoiVUpzSnF0VjZlTnI5aHdNd09zaHFGUT09IiwibWFjIjoiMDk5NTUyNGMzMjY2Y2U1NDQ5ZWYwN2FhNjkzMjAwNWRiZTMxY2MzYTA1OTcwZDA2NGU2ODMzYmMwNTdiZTA5YyIsInRhZyI6IiJ9, 82d85eec8f3b75887fe370ea156c3cd1f07c6019a652c9c738d14c6b50677c71, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > user can view  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Aletha Beer, 09176567442, ?, 1, 100000, 0, 2, eyJpdiI6Im9Idkh5aWpZMFEyOVdNdW4yMCs3Umc9PSIsInZhbHVlIjoiM2dQR3VoOUZhZ1o3YUdIcXloOTNGZz09IiwibWFjIjoiMjYxZDIxMjFiN2JiOWFjYzBjYWEwNTg2YTRkNjM1M2M3YzdhZTYwMzQ0MmU4OWQ5MDFjYzBiM2NlMDQ1MTYyNCIsInRhZyI6IiJ9, 20826710118dbfa973c99fc9e63ecdf2a1401a430623e723e196aa8d997897bf, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > user can view  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Rosella O'Reilly, 09177352044, ?, 1, 100000, 0, 10, eyJpdiI6ImhoWjFuNEJyRTlvaHg2eSs1Ri9RaHc9PSIsInZhbHVlIjoiN3RCdkVEcUdOTmZpYWFyR2lvUFg1Zz09IiwibWFjIjoiOGY1ODAyZTFjNzZhODdlZWEzNjQzY2YyMjA0NzIzODQ0MmYyNjE5YTkwNmNlNDIzZDliZTFkMDJlODg1YWNmNCIsInRhZyI6IiJ9, 1f21f10b04e2208641ef2449ace483057120f8e7b0749ce380306c3708c52aab, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > user can canc  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Cody Lueilwitz, 09172640538, ?, 1, 100000, 0, 7, eyJpdiI6Ii8xZ2N6d0NSWnZpeGlGYzJQMDJrQkE9PSIsInZhbHVlIjoiV2F5d2s5WjQ1Y0l6dVZaamE4UWtIZz09IiwibWFjIjoiMzg5OGI3MTI1NzQxNzRkMGQ2NGY3YmQ4ZTNlNzhmZGZkYTc3ZjNiMDg0ZjMwODljNjk4ZWJiNzNkNmE1ZTQ4MiIsInRhZyI6IiJ9, 3ecb39bb4067107b20a1ec4c273e924793eb550f173de888de0cfed4fe4aa302, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > user cannot c  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Weldon Bechtelar Jr., 09174879935, ?, 1, 100000, 0, 4, eyJpdiI6IlhPb3Bsc0NlaHMvbklPVktzMnl1cWc9PSIsInZhbHVlIjoiL2Q0ckhUanpRVldYYnBZK0M0QXQ5UT09IiwibWFjIjoiNDMwMzdjYmI2MTFmZDUzOTczOTNkN2U1ZThlMTQ4MTQ5NDJiYmVjYTg3YTM5YjQwZjk3OGIxNjJmODI5MzNiOSIsInRhZyI6IiJ9, 8ef2ba3da498d803d3f7d522dc5dd732648971018cb32c06af28fac441f37891, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > user cannot v  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Miss Carley Toy, 09173534474, ?, 1, 100000, 0, 4, eyJpdiI6ImdsN3JXeGRRNzRCMzJRbnN6Z21kMXc9PSIsInZhbHVlIjoiWFBsNDhYQjRRalFYSEFjOFBRUVBVZz09IiwibWFjIjoiMzI4Y2FmNTU5Nzk4OGI1ZTk1NzBjMDNlODNiMjQ2N2Y3NWFmZmJhNjBmODgzN2RhYmJhZWEzZGM5NTc5MzRkMiIsInRhZyI6IiJ9, 2188f9a59f9a7db88a32f17e159ba6abd527ba432e0081513165997d4fb299ec, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit creat  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Dr. Milford Paucek, 09173533222, ?, 1, 100000, 0, 6, eyJpdiI6ImtNUFJMSC9CazJ5cWp5Q054Q2dwT1E9PSIsInZhbHVlIjoib2lXL25ySVR1TGhJVTFnQlczUXl6Zz09IiwibWFjIjoiNjg2MGVjNDA4NjEyNDk5ZGI1NDUzYjMyMzVjZWVhMjg5ZmU5ZDM5Mzg4OTNkYjk2NTZhZjVlMzU5MTZmZTdjNCIsInRhZyI6IiJ9, 55856a295397f2640d94100c95857b3d24d9b0782984cd2effffb5c7aacd8b46, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > deposit respe  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Raheem Sipes, 09171712281, ?, 1, 100000, 0, 3, eyJpdiI6IlEzUHYycCtKRGRCUFFtV2tQRUs3bWc9PSIsInZhbHVlIjoiSEpnL29JL3J6Q3pGeVE3elRnQk9PUT09IiwibWFjIjoiOTBmZjQ1NzFiZDBjMGQ4MDU3Y2MxZDY0YTI5ZDhhMTg3NWFmZDRmMjNlMmVlNmNiM2Q4NjJhYzhmY2QzNGI5MyIsInRhZyI6IiJ9, 7bf59a72fd33439e8506d6589eae10c7c8fc8209dae6ca011948cdf5a5ad1ffc, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DepositWorkflowTest > duplicate ref  QueryException   
  SQLSTATE[HY000]: General error: 1 table gcash_accounts has no column named qr_code_url (Connection: sqlite, SQL: insert into "gcash_accounts" ("account_name", "account_number", "qr_code_url", "is_active", "daily_limit", "current_daily_amount", "sort_order", "account_number_encrypted", "account_number_hash", "updated_at", "created_at") values (Tia Wilkinson, 09171789527, ?, 1, 100000, 0, 6, eyJpdiI6IjdFQkpqM0lyS3NTa3JJRDE1RjRReWc9PSIsInZhbHVlIjoiUXozdXk5RGE4aUgwU200SVlnMzFQdz09IiwibWFjIjoiNmM2YWNmY2U3MWE5MWM3YTZmMzFhNzA5MzM1YzhkZGVkOTFiNjQ5NDQzYTA1YThjYjMzY2VhNWM1NGI3MzhkYyIsInRhZyI6IiJ9, df254f8fd7d5d2132fdb42e78a482e671e390ca250b55bbf646e3733c8de5901, 2025-12-22 15:19:32, 2025-12-22 15:19:32))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/DepositWorkflowTest.php:26

    
   FAILED  Tests\Feature\DiceGameTest > user can play dice game                 
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php(42): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DiceGameTest->user_can_play_dice_game()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/DiceGameTest.php:48
     44                 'target' => 50.00,
     45                 'prediction' => 'over',
     46             ]);
     47 
    48         $response->assertStatus(200)
     49             ->assertJson(['success' => true])
     50             ->assertJsonStructure([
     51                 'success',
     52                 'data' => [

    
   FAILED  Tests\Feature\DiceGameTest > dice game deducts bet from wallet       
  Failed asserting that '1000.00' is not equal to '1000.00'.

  at tests/Feature/DiceGameTest.php:93
     89 
     90         $this->user->wallet->refresh();
     91         
     92         // Balance should be less after bet (minus bet, plus potential payout)
    93         $this->assertNotEquals($initialBalance, $this->user->wallet->real_balance);
     94     }
     95 
     96     /** @test */
     97     public function dice_game_creates_bet_record()

  1   tests/Feature/DiceGameTest.php:93

    
   FAILED  Tests\Feature\DiceGameTest > dice game creates bet record            
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "dice",
    "bet_amount": 10
}.

The table is empty.

  at tests/Feature/DiceGameTest.php:106
    102                 'target' => 50.00,
    103                 'prediction' => 'over',
    104             ]);
    105 
   106         $this->assertDatabaseHas('bets', [
    107             'user_id' => $this->user->id,
    108             'game_type' => 'dice',
    109             'bet_amount' => 10.00,
    110         ]);

    
   FAILED  Tests\Feature\DiceGameTest > dice game uses prova  ErrorException   
  Attempt to read property "server_seed_hash" on null

  at tests/Feature/DiceGameTest.php:125
    121             ]);
    122 
    123         $bet = Bet::where('user_id', $this->user->id)->latest()->first();
    124         
   125         $this->assertNotNull($bet->server_seed_hash);
    126         $this->assertNotNull($bet->client_seed);
    127         $this->assertIsInt($bet->nonce);
    128     }
    129

    
   FAILED  Tests\Feature\DiceGameTest > dice game requires authentication       
  Expected response status code [401] but received 500.
Failed asserting that 500 is identical to 401.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php(133): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DiceGameTest->dice_game_requires_authentication()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/DiceGameTest.php:139
    135             'target' => 50.00,
    136             'prediction' => 'over',
    137         ]);
    138 
   139         $response->assertStatus(401);
    140     }
    141 
    142     /** @test */
    143     public function dice_game_validates_bet_amount()

    
   FAILED  Tests\Feature\DiceGameTest > dice game validates bet amount          
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php(146): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DiceGameTest->dice_game_validates_bet_amount()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/DiceGameTest.php:152
    148                 'target' => 50.00,
    149                 'prediction' => 'over',
    150             ]);
    151 
   152         $response->assertStatus(422)
    153             ->assertJsonValidationErrors(['bet_amount']);
    154     }
    155 
    156     /** @test */

    
   FAILED  Tests\Feature\DiceGameTest > dice game validates target range        
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php(160): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DiceGameTest->dice_game_validates_target_range()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/DiceGameTest.php:166
    162                 'target' => 150.00, // Invalid: > 100
    163                 'prediction' => 'over',
    164             ]);
    165 
   166         $response->assertStatus(422)
    167             ->assertJsonValidationErrors(['target']);
    168     }
    169 
    170     /** @test */

    
   FAILED  Tests\Feature\DiceGameTest > dice game validates prediction          
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php(174): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\DiceGameTest->dice_game_validates_prediction()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/DiceGameTest.php:180
    176                 'target' => 50.00,
    177                 'prediction' => 'invalid',
    178             ]);
    179 
   180         $response->assertStatus(422)
    181             ->assertJsonValidationErrors(['prediction']);
    182     }
    183 
    184     /** @test */

    
   FAILED  Tests\Feature\DiceGameTest > user cannot bet more than balance       
  Unable to find JSON: 

[{
    "success": false
}]

within response JSON:

[{
    "message": "Too few arguments to function App\\Http\\Middleware\\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected",
    "exception": "ArgumentCountError",
    "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php",
    "line": 19,
    "trace": [
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\ThrottleWithLogging",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php",
            "line": 33,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\LogApiRequests",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 807,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 786,
            "function": "runRouteWithinStack",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 750,
            "function": "runRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php",
            "line": 739,
            "function": "dispatchToRoute",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 201,
            "function": "dispatch",
            "class": "Illuminate\\Routing\\Router",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 170,
            "function": "Illuminate\\Foundation\\Http\\{closure}",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php",
            "line": 25,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "App\\Http\\Middleware\\SecurityHeaders",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php",
            "line": 31,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php",
            "line": 21,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php",
            "line": 51,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\TrimStrings",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php",
            "line": 27,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\ValidatePostSize",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php",
            "line": 110,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php",
            "line": 62,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\HandleCors",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php",
            "line": 58,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Http\\Middleware\\TrustProxies",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php",
            "line": 22,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 209,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Middleware\\InvokeDeferredCallbacks",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php",
            "line": 127,
            "function": "Illuminate\\Pipeline\\{closure}",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 176,
            "function": "then",
            "class": "Illuminate\\Pipeline\\Pipeline",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php",
            "line": 145,
            "function": "sendRequestThroughRouter",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 607,
            "function": "handle",
            "class": "Illuminate\\Foundation\\Http\\Kernel",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 573,
            "function": "call",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php",
            "line": 411,
            "function": "json",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/tests/Feature/DiceGameTest.php",
            "line": 188,
            "function": "postJson",
            "class": "Illuminate\\Foundation\\Testing\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 1657,
            "function": "user_cannot_bet_more_than_balance",
            "class": "Tests\\Feature\\DiceGameTest",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 515,
            "function": "runTest",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php",
            "line": 87,
            "function": "runBare",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php",
            "line": 361,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestCase",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php",
            "line": 369,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php",
            "line": 64,
            "function": "run",
            "class": "PHPUnit\\Framework\\TestSuite",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php",
            "line": 211,
            "function": "run",
            "class": "PHPUnit\\TextUI\\TestRunner",
            "type": "->"
        },
        {
            "file": "/home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit",
            "line": 104,
            "function": "run",
            "class": "PHPUnit\\TextUI\\Application",
            "type": "->"
        }
    ]
}].


Failed asserting that an array has the subset Array &0 [
    'success' => false,
].
         'type' => '->',
       ),
     ),
  -  'success' => false,
   )
  

  at tests/Feature/DiceGameTest.php:195
    191                 'prediction' => 'over',
    192             ]);
    193 
    194         $response->assertStatus(500)
   195             ->assertJson(['success' => false])
    196             ->assertJsonStructure(['success', 'message']);
    197     }
    198 
    199     /** @test */

    
   FAILED  Tests\Feature\DiceGameTest > winning bet credits wallet              
  No winning bet in 50 attempts
Failed asserting that false is true.

  at tests/Feature/DiceGameTest.php:225
    221             }
    222         }
    223         
    224         // With 50% win chance, we should get at least one win in 50 attempts
   225         $this->assertTrue($won, 'No winning bet in ' . $maxAttempts . ' attempts');
    226     }
    227 
    228     /** @test */
    229     public function dice_game_calculates_correct_win_chance()

  1   tests/Feature/DiceGameTest.php:225

    
   FAILED  Tests\Feature\DiceGameTest > dice game calculates correct win cha   
  Failed asserting that null matches expected 50.0.

  at tests/Feature/DiceGameTest.php:241
    237 
    238         $winChance = $response->json('data.win_chance');
    239         
    240         // Over 50 should have 50% win chance
   241         $this->assertEquals(50.0, $winChance);
    242     }
    243 
    244     /** @test */
    245     public function dice_game_increments_nonce()

  1   tests/Feature/DiceGameTest.php:241

    
   FAILED  Tests\Feature\DiceGameTest > dice game increments  ErrorException   
  Attempt to read property "nonce" on null

  at tests/Feature/DiceGameTest.php:267
    263             ]);
    264 
    265         $secondBet = Bet::where('user_id', $this->user->id)->latest()->first();
    266         
   267         $this->assertEquals($firstBet->nonce + 1, $secondBet->nonce);
    268     }
    269 }
    270

    
   FAILED  Tests\Feature\HiLoGameTest > user can start hilo game                
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(39): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->user_can_start_hilo_game()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:43
     39             ->postJson('/api/games/hilo/start', [
     40                 'bet_amount' => 50.00,
     41             ]);
     42 
    43         $response->assertStatus(200)
     44             ->assertJson(['success' => true])
     45             ->assertJsonStructure([
     46                 'success',
     47                 'data' => [

    
   FAILED  Tests\Feature\HiLoGameTest > user can predict higher                 
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(80): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->user_can_predict_higher()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:85
     81                 'bet_id' => $betId,
     82                 'prediction' => 'higher',
     83             ]);
     84 
    85         $response->assertStatus(200)
     86             ->assertJson(['success' => true])
     87             ->assertJsonStructure([
     88                 'success',
     89                 'data' => [

    
   FAILED  Tests\Feature\HiLoGameTest > user can predict lower                  
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(111): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->user_can_predict_lower()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:116
    112                 'bet_id' => $betId,
    113                 'prediction' => 'lower',
    114             ]);
    115 
   116         $response->assertStatus(200)
    117             ->assertJson(['success' => true])
    118             ->assertJsonStructure([
    119                 'success',
    120                 'data' => [

    
   FAILED  Tests\Feature\HiLoGameTest > prediction must be valid                
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(140): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->prediction_must_be_valid()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:145
    141                 'bet_id' => $betId,
    142                 'prediction' => 'invalid',
    143             ]);
    144 
   145         $response->assertStatus(422)
    146             ->assertJson(['success' => false]);
    147     }
    148 
    149     /** @test */

    
   FAILED  Tests\Feature\HiLoGameTest > user can cashout hilo                   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(196): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->user_can_cashout_hilo()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:200
    196             ->postJson('/api/games/hilo/cashout', [
    197                 'bet_id' => $betId,
    198             ]);
    199 
   200         $response->assertStatus(200)
    201             ->assertJson(['success' => true])
    202             ->assertJsonStructure([
    203                 'success',
    204                 'data' => [

    
   FAILED  Tests\Feature\HiLoGameTest > wrong prediction ends game              
  Failed asserting that null is true.

  at tests/Feature/HiLoGameTest.php:236
    232                         'prediction' => 'higher',
    233                     ]);
    234 
    235                 if (!$predictResponse->json('data.correct')) {
   236                     $this->assertTrue($predictResponse->json('data.game_over'));
    237                     $gameEnded = true;
    238                     break;
    239                 }
    240

  1   tests/Feature/HiLoGameTest.php:236

    
   FAILED  Tests\Feature\HiLoGameTest > hilo records bet in database            
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "hilo",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/HiLoGameTest.php:259
    255             ->postJson('/api/games/hilo/start', [
    256                 'bet_amount' => 50.00,
    257             ]);
    258 
   259         $this->assertDatabaseHas('bets', [
    260             'user_id' => $this->user->id,
    261             'game_type' => 'hilo',
    262             'bet_amount' => 50.00,
    263         ]);

    
   FAILED  Tests\Feature\HiLoGameTest > cannot predict on ended game            
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/HiLoGameTest.php(284): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\HiLoGameTest->cannot_predict_on_ended_game()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/HiLoGameTest.php:289
    285                 'bet_id' => $betId,
    286                 'prediction' => 'higher',
    287             ]);
    288 
   289         $response->assertStatus(422)
    290             ->assertJson(['success' => false]);
    291     }
    292 }
    293

    
   FAILED  Tests\Feature\KenoGameTest > user can play keno                      
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/KenoGameTest.php(39): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\KenoGameTest->user_can_play_keno()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/KenoGameTest.php:44
     40                 'bet_amount' => 50.00,
     41                 'selected_numbers' => [5, 12, 18, 25, 33, 40],
     42             ]);
     43 
    44         $response->assertStatus(200)
     45             ->assertJson(['success' => true])
     46             ->assertJsonStructure([
     47                 'success',
     48                 'data' => [

    
   FAILED  Tests\Feature\KenoGameTest > keno requires valid number count        
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/KenoGameTest.php(69): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\KenoGameTest->keno_requires_valid_number_count()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/KenoGameTest.php:74
     70                 'bet_amount' => 50.00,
     71                 'selected_numbers' => [5, 5, 10],
     72             ]);
     73 
    74         $response->assertStatus(422)
     75             ->assertJson(['success' => false]);
     76 
     77         // Too many numbers
     78         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)

    
   FAILED  Tests\Feature\KenoGameTest > keno requires unique numbers            
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/KenoGameTest.php(92): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\KenoGameTest->keno_requires_unique_numbers()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/KenoGameTest.php:97
     93                 'bet_amount' => 50.00,
     94                 'selected_numbers' => [5, 5, 12, 18, 25, 33],
     95             ]);
     96 
    97         $response->assertStatus(422)
     98             ->assertJson(['success' => false]);
     99     }
    100 
    101     /** @test */

    
   FAILED  Tests\Feature\KenoGameTest > keno numbers must be in valid range     
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/KenoGameTest.php(106): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\KenoGameTest->keno_numbers_must_be_in_valid_range()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/KenoGameTest.php:111
    107                 'bet_amount' => 50.00,
    108                 'selected_numbers' => [0, 5, 10],
    109             ]);
    110 
   111         $response->assertStatus(422)
    112             ->assertJson(['success' => false]);
    113 
    114         // Test number too high
    115         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)

    
   FAILED  Tests\Feature\KenoGameTest > keno calculates matches c  TypeError   
  array_intersect(): Argument #2 must be of type array, null given

  at tests/Feature/KenoGameTest.php:140
    136         $drawnNumbers = $response->json('data.drawn_numbers');
    137         $matches = $response->json('data.matches');
    138 
    139         // Count actual matches
   140         $actualMatches = count(array_intersect($selectedNumbers, $drawnNumbers));
    141         
    142         $this->assertEquals($actualMatches, $matches);
    143     }
    144

  1   tests/Feature/KenoGameTest.php:140

    
   FAILED  Tests\Feature\KenoGameTest > keno deducts bet from wallet            
  Failed asserting that '1000.00' is not equal to '1000.00'.

  at tests/Feature/KenoGameTest.php:193
    189 
    190         $this->user->wallet->refresh();
    191         
    192         // Balance should change (bet deducted, payout added)
   193         $this->assertNotEquals($initialBalance, $this->user->wallet->real_balance);
    194     }
    195 
    196     /** @test */
    197     public function keno_accepts_different_spot_counts()

  1   tests/Feature/KenoGameTest.php:193

    
   FAILED  Tests\Feature\KenoGameTest > keno accepts different spot counts      
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/KenoGameTest.php(209): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\KenoGameTest->keno_accepts_different_spot_counts()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/KenoGameTest.php:214
    210                     'bet_amount' => 10.00,
    211                     'selected_numbers' => $numbers,
    212                 ]);
    213 
   214             $response->assertStatus(200)
    215                 ->assertJson(['success' => true]);
    216         }
    217     }
    218

    
   FAILED  Tests\Feature\KenoGameTest > keno records bet in database            
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "keno",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/KenoGameTest.php:228
    224                 'bet_amount' => 50.00,
    225                 'selected_numbers' => [5, 12, 18, 25, 33, 40],
    226             ]);
    227 
   228         $this->assertDatabaseHas('bets', [
    229             'user_id' => $this->user->id,
    230             'game_type' => 'keno',
    231             'bet_amount' => 50.00,
    232         ]);

    
   FAILED  Tests\Feature\KenoGameTest > keno drawn numbers are un  TypeError   
  array_unique(): Argument #1 ($array) must be of type array, null given

  at tests/Feature/KenoGameTest.php:247
    243 
    244         $drawnNumbers = $response->json('data.drawn_numbers');
    245         
    246         // Check for duplicates
   247         $uniqueDrawn = array_unique($drawnNumbers);
    248         $this->assertCount(count($drawnNumbers), $uniqueDrawn);
    249     }
    250 
    251     /** @test */

  1   tests/Feature/KenoGameTest.php:247

    
   FAILED  Tests\Feature\KenoGameTest > keno drawn numbers a  ErrorException   
  foreach() argument must be of type array|object, null given

  at tests/Feature/KenoGameTest.php:262
    258             ]);
    259 
    260         $drawnNumbers = $response->json('data.drawn_numbers');
    261         
   262         foreach ($drawnNumbers as $number) {
    263             $this->assertGreaterThanOrEqual(1, $number);
    264             $this->assertLessThanOrEqual(40, $number);
    265         }
    266     }

    
   FAILED  Tests\Feature\MinesGameTest > user can start mines game              
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/MinesGameTest.php(40): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\MinesGameTest->user_can_start_mines_game()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/MinesGameTest.php:45
     41                 'bet_amount' => 50.00,
     42                 'mines_count' => 5,
     43             ]);
     44 
    45         $response->assertStatus(200)
     46             ->assertJson(['success' => true])
     47             ->assertJsonStructure([
     48                 'success',
     49                 'data' => [

    
   FAILED  Tests\Feature\MinesGameTest > mines count must be valid              
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/MinesGameTest.php(67): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\MinesGameTest->mines_count_must_be_valid()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/MinesGameTest.php:72
     68                 'bet_amount' => 50.00,
     69                 'mines_count' => 0,
     70             ]);
     71 
    72         $response->assertStatus(422)
     73             ->assertJson(['success' => false]);
     74 
     75         // Too many mines
     76         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)

    
   FAILED  Tests\Feature\MinesGameTest > user can reveal safe tile              
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/MinesGameTest.php(100): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\MinesGameTest->user_can_reveal_safe_tile()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/MinesGameTest.php:105
    101                 'bet_id' => $betId,
    102                 'tile_index' => 5,
    103             ]);
    104 
   105         $response->assertStatus(200)
    106             ->assertJson(['success' => true])
    107             ->assertJsonStructure([
    108                 'success',
    109                 'data' => [

    
   FAILED  Tests\Feature\MinesGameTest > revealing mine ends game               
  Failed asserting that false is true.

  at tests/Feature/MinesGameTest.php:146
    142             }
    143         }
    144 
    145         // With 20 mines, we should hit one eventually
   146         $this->assertTrue($hitMine || $response->json('data.game_over'));
    147     }
    148 
    149     /** @test */
    150     public function user_can_cashout_mines_game()

  1   tests/Feature/MinesGameTest.php:146

    
   FAILED  Tests\Feature\MinesGameTest > user can cashout mines game            
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/MinesGameTest.php(176): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\MinesGameTest->user_can_cashout_mines_game()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/MinesGameTest.php:180
    176             ->postJson('/api/games/mines/cashout', [
    177                 'bet_id' => $betId,
    178             ]);
    179 
   180         $response->assertStatus(200)
    181             ->assertJson(['success' => true])
    182             ->assertJsonStructure([
    183                 'success',
    184                 'data' => [

    
   FAILED  Tests\Feature\MinesGameTest > cannot reveal same tile twice          
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/MinesGameTest.php(218): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\MinesGameTest->cannot_reveal_same_tile_twice()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/MinesGameTest.php:223
    219                 'bet_id' => $betId,
    220                 'tile_index' => 5,
    221             ]);
    222 
   223         $response->assertStatus(422)
    224             ->assertJson(['success' => false]);
    225     }
    226 
    227     /** @test */

    
   FAILED  Tests\Feature\MinesGameTest > multiplier increases with safe reve   
  Failed asserting that null is greater than null.

  at tests/Feature/MinesGameTest.php:249
    245             ]);
    246 
    247         if (!$revealResponse->json('data.is_mine')) {
    248             $newMultiplier = $revealResponse->json('data.current_multiplier');
   249             $this->assertGreaterThan($initialMultiplier, $newMultiplier);
    250         }
    251     }
    252 
    253     /** @test */

  1   tests/Feature/MinesGameTest.php:249

    
   FAILED  Tests\Feature\MinesGameTest > mines game records bet in database     
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "mines",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/MinesGameTest.php:262
    258                 'bet_amount' => 50.00,
    259                 'mines_count' => 5,
    260             ]);
    261 
   262         $this->assertDatabaseHas('bets', [
    263             'user_id' => $this->user->id,
    264             'game_type' => 'mines',
    265             'bet_amount' => 50.00,
    266         ]);

    
   FAILED  Tests\Feature\PlinkoGameTest > user can play plinko                  
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PlinkoGameTest.php(39): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PlinkoGameTest->user_can_play_plinko()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PlinkoGameTest.php:45
     41                 'risk_level' => 'medium',
     42                 'rows' => 12,
     43             ]);
     44 
    45         $response->assertStatus(200)
     46             ->assertJson(['success' => true])
     47             ->assertJsonStructure([
     48                 'success',
     49                 'data' => [

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko accepts valid risk levels      
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PlinkoGameTest.php(72): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PlinkoGameTest->plinko_accepts_valid_risk_levels()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PlinkoGameTest.php:78
     74                     'risk_level' => $risk,
     75                     'rows' => 12,
     76                 ]);
     77 
    78             $response->assertStatus(200)
     79                 ->assertJson(['success' => true]);
     80         }
     81     }
     82

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko rejects invalid risk level     
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PlinkoGameTest.php(87): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PlinkoGameTest->plinko_rejects_invalid_risk_level()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PlinkoGameTest.php:93
     89                 'risk_level' => 'extreme',
     90                 'rows' => 12,
     91             ]);
     92 
    93         $response->assertStatus(422)
     94             ->assertJson(['success' => false]);
     95     }
     96 
     97     /** @test */

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko accepts valid row counts       
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PlinkoGameTest.php(104): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PlinkoGameTest->plinko_accepts_valid_row_counts()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PlinkoGameTest.php:110
    106                     'risk_level' => 'medium',
    107                     'rows' => $rows,
    108                 ]);
    109 
   110             $response->assertStatus(200)
    111                 ->assertJson(['success' => true]);
    112         }
    113     }
    114

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko rejects invalid row count      
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PlinkoGameTest.php(119): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PlinkoGameTest->plinko_rejects_invalid_row_count()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PlinkoGameTest.php:125
    121                 'risk_level' => 'medium',
    122                 'rows' => 10,
    123             ]);
    124 
   125         $response->assertStatus(422)
    126             ->assertJson(['success' => false]);
    127     }
    128 
    129     /** @test */

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko deducts bet from wallet        
  Failed asserting that '1000.00' is not equal to '1000.00'.

  at tests/Feature/PlinkoGameTest.php:144
    140 
    141         $this->user->wallet->refresh();
    142         
    143         // Wallet should be different (deducted bet, added payout)
   144         $this->assertNotEquals($initialBalance, $this->user->wallet->real_balance);
    145     }
    146 
    147     /** @test */
    148     public function plinko_multiplier_matches_result_slot()

  1   tests/Feature/PlinkoGameTest.php:144

    
   FAILED  Tests\Feature\PlinkoGameTest > plinko records bet in database        
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "plinko",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/PlinkoGameTest.php:176
    172                 'risk_level' => 'medium',
    173                 'rows' => 12,
    174             ]);
    175 
   176         $this->assertDatabaseHas('bets', [
    177             'user_id' => $this->user->id,
    178             'game_type' => 'plinko',
    179             'bet_amount' => 50.00,
    180         ]);

    
   FAILED  Tests\Feature\PumpGameTest > user can get current pump round         
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(45): Illuminate\Foundation\Testing\TestCase->getJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->user_can_get_current_pump_round()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:47
     43     {
     44         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)
     45             ->getJson('/api/games/pump/round');
     46 
    47         $response->assertStatus(200)
     48             ->assertJson(['success' => true])
     49             ->assertJsonStructure([
     50                 'success',
     51                 'data' => [

    
   FAILED  Tests\Feature\PumpGameTest > user can place pump bet                 
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(64): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->user_can_place_pump_bet()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:69
     65                 'bet_amount' => 50.00,
     66                 'target_multiplier' => 2.00,
     67             ]);
     68 
    69         $response->assertStatus(200)
     70             ->assertJson(['success' => true])
     71             ->assertJsonStructure([
     72                 'success',
     73                 'data' => [

    
   FAILED  Tests\Feature\PumpGameTest > pump bet requires valid target multi   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(91): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->pump_bet_requires_valid_target_multiplier()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:96
     92                 'bet_amount' => -10.00,
     93                 'target_multiplier' => 2.00,
     94             ]);
     95 
    96         $response->assertStatus(422)
     97             ->assertJson(['success' => false]);
     98 
     99         // Target too high
    100         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)

    
   FAILED  Tests\Feature\PumpGameTest > pump bet requires sufficient balance    
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(114): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->pump_bet_requires_sufficient_balance()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:119
    115                 'bet_amount' => 2000.00, // Exceeds balance
    116                 'target_multiplier' => 2.00,
    117             ]);
    118 
   119         $response->assertStatus(422)
    120             ->assertJson(['success' => false]);
    121     }
    122 
    123     /** @test */

    
   FAILED  Tests\Feature\PumpGameTest > user can cashout pump bet               
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(140): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->user_can_cashout_pump_bet()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:144
    140             ->postJson('/api/games/pump/cashout', [
    141                 'round_id' => $roundId,
    142             ]);
    143 
   144         $response->assertStatus(200)
    145             ->assertJson(['success' => true])
    146             ->assertJsonStructure([
    147                 'success',
    148                 'data' => [

    
   FAILED  Tests\Feature\PumpGameTest > auto complete triggers at target mul   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(160): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->auto_complete_triggers_at_target_multiplier()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:165
    161                 'bet_amount' => 50.00,
    162                 'target_multiplier' => 1.50, // Low target for quick completion
    163             ]);
    164 
   165         $response->assertStatus(200)
    166             ->assertJson(['success' => true]);
    167         
    168         $betId = $response->json('data.bet_id');
    169

    
   FAILED  Tests\Feature\PumpGameTest > cannot cashout already cashed out pu   
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(198): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->cannot_cashout_already_cashed_out_pump_bet()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:202
    198             ->postJson('/api/games/pump/cashout', [
    199                 'round_id' => $roundId,
    200             ]);
    201 
   202         $response->assertStatus(422)
    203             ->assertJson(['success' => false]);
    204     }
    205 
    206     /** @test */

    
   FAILED  Tests\Feature\PumpGameTest > pump game records bet in database       
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "pump",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/PumpGameTest.php:215
    211                 'bet_amount' => 50.00,
    212                 'target_multiplier' => 2.00,
    213             ]);
    214 
   215         $this->assertDatabaseHas('bets', [
    216             'user_id' => $this->user->id,
    217             'game_type' => 'pump',
    218             'bet_amount' => 50.00,
    219         ]);

    
   FAILED  Tests\Feature\PumpGameTest > pump round has valid structure          
  Failed asserting that null is of type string.

  at tests/Feature/PumpGameTest.php:228
    224     {
    225         $response = $this->withHeader('Authorization', 'Bearer ' . $this->token)
    226             ->getJson('/api/games/pump/round');
    227 
   228         $this->assertIsString($response->json('data.round_id'));
    229         $this->assertTrue(in_array($response->json('data.status'), ['waiting', 'active', 'ended']));
    230         $this->assertIsNumeric($response->json('data.multiplier'));
    231         $this->assertIsArray($response->json('data.bets'));
    232     }

  1   tests/Feature/PumpGameTest.php:228

    
   FAILED  Tests\Feature\PumpGameTest > cannot place bet with invalid amount    
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/PumpGameTest.php(255): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\PumpGameTest->cannot_place_bet_with_invalid_amount()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/PumpGameTest.php:260
    256                 'bet_amount' => 0.50, // Below minimum
    257                 'target_multiplier' => 2.00,
    258             ]);
    259 
   260         $response->assertStatus(422)
    261             ->assertJson(['success' => false]);
    262     }
    263 }
    264

    
   FAILED  Tests\Feature\VerificationTest > it verifies dice game result        
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(16): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_dice_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:28
     24                 'prediction' => 'over',
     25             ],
     26         ]);
     27 
    28         $response->assertStatus(200)
     29             ->assertJson([
     30                 'verified' => true,
     31             ])
     32             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it rejects invalid server seed h   
  Expected response status code [400] but received 500.
Failed asserting that 500 is identical to 400.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(50): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_rejects_invalid_server_seed_hash()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:58
     54             'client_seed' => 'test-client-seed',
     55             'nonce' => 0,
     56         ]);
     57 
    58         $response->assertStatus(400)
     59             ->assertJson([
     60                 'verified' => false,
     61             ])
     62             ->assertJsonFragment([

    
   FAILED  Tests\Feature\VerificationTest > it verifies mines game result       
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(70): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_mines_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:81
     77                 'mine_count' => 3,
     78             ],
     79         ]);
     80 
    81         $response->assertStatus(200)
     82             ->assertJson([
     83                 'verified' => true,
     84             ])
     85             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it verifies keno game result        
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(101): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_keno_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:112
    108                 'selected_numbers' => '5,12,23,34,40',
    109             ],
    110         ]);
    111 
   112         $response->assertStatus(200)
    113             ->assertJson([
    114                 'verified' => true,
    115             ])
    116             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it verifies plinko game result      
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(133): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_plinko_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:145
    141                 'risk' => 'medium',
    142             ],
    143         ]);
    144 
   145         $response->assertStatus(200)
    146             ->assertJson([
    147                 'verified' => true,
    148             ])
    149             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it verifies crash game result       
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(167): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_crash_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:175
    171             'client_seed' => 'test-client-seed',
    172             'nonce' => 0,
    173         ]);
    174 
   175         $response->assertStatus(200)
    176             ->assertJson([
    177                 'verified' => true,
    178             ])
    179             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it verifies hilo game result        
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(193): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_hilo_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:201
    197             'client_seed' => 'test-client-seed',
    198             'nonce' => 0,
    199         ]);
    200 
   201         $response->assertStatus(200)
    202             ->assertJson([
    203                 'verified' => true,
    204             ])
    205             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > it verifies wheel game result       
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(222): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_verifies_wheel_game_result()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:233
    229                 'risk' => 'medium',
    230             ],
    231         ]);
    232 
   233         $response->assertStatus(200)
    234             ->assertJson([
    235                 'verified' => true,
    236             ])
    237             ->assertJsonStructure([

    
   FAILED  Tests\Feature\VerificationTest > verification endpoint is public     
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(253): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->verification_endpoint_is_public()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:261
    257             'client_seed' => 'test',
    258             'nonce' => 0,
    259         ]);
    260 
   261         $response->assertStatus(200);
    262     }
    263 
    264     /** @test */
    265     public function it_validates_required_fields()

    
   FAILED  Tests\Feature\VerificationTest > it validates required fields        
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(267): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_validates_required_fields()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:272
    268             'game_type' => 'dice',
    269             // Missing required fields
    270         ]);
    271 
   272         $response->assertStatus(422)
    273             ->assertJsonValidationErrors(['server_seed', 'server_seed_hash', 'client_seed', 'nonce']);
    274     }
    275 
    276     /** @test */

    
   FAILED  Tests\Feature\VerificationTest > it validates game type              
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(279): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_validates_game_type()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:287
    283             'client_seed' => 'test',
    284             'nonce' => 0,
    285         ]);
    286 
   287         $response->assertStatus(422)
    288             ->assertJsonValidationErrors(['game_type']);
    289     }
    290 
    291     /** @test */

    
   FAILED  Tests\Feature\VerificationTest > it returns verification instruct   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/VerificationTest.php(294): Illuminate\Foundation\Testing\TestCase->getJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\VerificationTest->it_returns_verification_instructions()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/VerificationTest.php:296
    292     public function it_returns_verification_instructions()
    293     {
    294         $response = $this->getJson('/api/games/verify/instructions');
    295 
   296         $response->assertStatus(200)
    297             ->assertJsonStructure([
    298                 'title',
    299                 'overview',
    300                 'steps',

    
   FAILED  Tests\Feature\WheelGameTest > user can get wheel config              
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/WheelGameTest.php(38): Illuminate\Foundation\Testing\TestCase->getJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\WheelGameTest->user_can_get_wheel_config()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/WheelGameTest.php:40
     36     public function user_can_get_wheel_config()
     37     {
     38         $response = $this->getJson('/api/games/wheel/config');
     39 
    40         $response->assertStatus(200)
     41             ->assertJson(['success' => true])
     42             ->assertJsonStructure([
     43                 'success',
     44                 'data' => [

    
   FAILED  Tests\Feature\WheelGameTest > user can spin wheel                    
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/WheelGameTest.php(58): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\WheelGameTest->user_can_spin_wheel()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/WheelGameTest.php:63
     59                 'bet_amount' => 50.00,
     60                 'risk_level' => 'medium',
     61             ]);
     62 
    63         $response->assertStatus(200)
     64             ->assertJson(['success' => true])
     65             ->assertJsonStructure([
     66                 'success',
     67                 'data' => [

    
   FAILED  Tests\Feature\WheelGameTest > wheel accepts valid risk levels        
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/WheelGameTest.php(89): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\WheelGameTest->wheel_accepts_valid_risk_levels()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/WheelGameTest.php:94
     90                     'bet_amount' => 10.00,
     91                     'risk_level' => $risk,
     92                 ]);
     93 
    94             $response->assertStatus(200)
     95                 ->assertJson(['success' => true]);
     96         }
     97     }
     98

    
   FAILED  Tests\Feature\WheelGameTest > wheel rejects invalid risk level       
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/WheelGameTest.php(103): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\WheelGameTest->wheel_rejects_invalid_risk_level()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/WheelGameTest.php:108
    104                 'bet_amount' => 50.00,
    105                 'risk_level' => 'extreme',
    106             ]);
    107 
   108         $response->assertStatus(422)
    109             ->assertJson(['success' => false]);
    110     }
    111 
    112     /** @test */

    
   FAILED  Tests\Feature\WheelGameTest > wheel deducts bet from wallet          
  Failed asserting that '1000.00' is not equal to '1000.00'.

  at tests/Feature/WheelGameTest.php:126
    122 
    123         $this->user->wallet->refresh();
    124         
    125         // Balance should change
   126         $this->assertNotEquals($initialBalance, $this->user->wallet->real_balance);
    127     }
    128 
    129     /** @test */
    130     public function wheel_payout_matches_multiplier()

  1   tests/Feature/WheelGameTest.php:126

    
   FAILED  Tests\Feature\WheelGameTest > wheel records bet in database          
  Failed asserting that a row in the table [bets] matches the attributes {
    "user_id": 1,
    "game_type": "wheel",
    "bet_amount": 50
}.

The table is empty.

  at tests/Feature/WheelGameTest.php:156
    152                 'bet_amount' => 50.00,
    153                 'risk_level' => 'medium',
    154             ]);
    155 
   156         $this->assertDatabaseHas('bets', [
    157             'user_id' => $this->user->id,
    158             'game_type' => 'wheel',
    159             'bet_amount' => 50.00,
    160         ]);

    
   FAILED  Tests\Feature\WheelGameTest > wheel config has va  ErrorException   
  foreach() argument must be of type array|object, null given

  at tests/Feature/WheelGameTest.php:169
    165     {
    166         $response = $this->getJson('/api/games/wheel/config');
    167         $segments = $response->json('data.segments');
    168 
   169         foreach ($segments as $segment) {
    170             $this->assertArrayHasKey('multiplier', $segment);
    171             $this->assertArrayHasKey('color', $segment);
    172             $this->assertArrayHasKey('probability', $segment);
    173

    
   FAILED  Tests\Feature\WheelGameTest > wheel probabilities sum   TypeError   
  array_column(): Argument #1 ($array) must be of type array, null given

  at tests/Feature/WheelGameTest.php:189
    185     {
    186         $response = $this->getJson('/api/games/wheel/config');
    187         $segments = $response->json('data.segments');
    188 
   189         $totalProbability = array_sum(array_column($segments, 'probability'));
    190         
    191         // Allow small floating point difference
    192         $this->assertEqualsWithDelta(1.0, $totalProbability, 0.001);
    193     }

  1   tests/Feature/WheelGameTest.php:189

    
   FAILED  Tests\Feature\WheelGameTest > wheel requires sufficient balance      
  Expected response status code [422] but received 500.
Failed asserting that 500 is identical to 422.

The following exception occurred during the last request:

ArgumentCountError: Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected in /home/neng/Desktop/sugalan/app/Http/Middleware/ThrottleWithLogging.php:19
Stack trace:
#0 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\ThrottleWithLogging->handle()
#1 /home/neng/Desktop/sugalan/app/Http/Middleware/LogApiRequests.php(33): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#2 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\LogApiRequests->handle()
#3 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#4 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(807): Illuminate\Pipeline\Pipeline->then()
#5 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(786): Illuminate\Routing\Router->runRouteWithinStack()
#6 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(750): Illuminate\Routing\Router->runRoute()
#7 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Routing/Router.php(739): Illuminate\Routing\Router->dispatchToRoute()
#8 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(201): Illuminate\Routing\Router->dispatch()
#9 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(170): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#10 /home/neng/Desktop/sugalan/app/Http/Middleware/SecurityHeaders.php(25): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#11 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): App\Http\Middleware\SecurityHeaders->handle()
#12 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#13 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#14 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#15 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#17 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#18 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\ValidatePostSize->handle()
#20 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(110): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#22 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(62): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\HandleCors->handle()
#24 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Http\Middleware\TrustProxies->handle()
#26 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#27 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(209): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#28 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(127): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#29 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\Pipeline\Pipeline->then()
#30 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(145): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#31 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#32 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#33 /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#34 /home/neng/Desktop/sugalan/tests/Feature/WheelGameTest.php(229): Illuminate\Foundation\Testing\TestCase->postJson()
#35 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(1657): Tests\Feature\WheelGameTest->wheel_requires_sufficient_balance()
#36 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(515): PHPUnit\Framework\TestCase->runTest()
#37 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#38 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#39 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#40 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#41 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/Framework/TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#42 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#43 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/src/TextUI/Application.php(211): PHPUnit\TextUI\TestRunner->run()
#44 /home/neng/Desktop/sugalan/vendor/phpunit/phpunit/phpunit(104): PHPUnit\TextUI\Application->run()
#45 {main}

----------------------------------------------------------------------------------

Too few arguments to function App\Http\Middleware\ThrottleWithLogging::handle(), 2 passed in /home/neng/Desktop/sugalan/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php on line 209 and exactly 3 expected

  at tests/Feature/WheelGameTest.php:234
    230                 'bet_amount' => 2000.00, // Exceeds balance
    231                 'risk_level' => 'medium',
    232             ]);
    233 
   234         $response->assertStatus(422)
    235             ->assertJson(['success' => false]);
    236     }
    237 }
    238

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user can request withdrawa   
  Expected response status code [201] but received 405.
Failed asserting that 405 is identical to 201.

  at tests/Feature/WithdrawalWorkflowTest.php:40
     36             'amount' => 5000,
     37             'gcash_number' => '09171234567',
     38         ]);
     39 
    40         $response->assertStatus(201);
     41         $response->assertJsonStructure([
     42             'data' => [
     43                 'id',
     44                 'amount',

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > withdrawal locks balance      
  Failed asserting that '10000.00' matches expected 5000.

  at tests/Feature/WithdrawalWorkflowTest.php:66
     62         ]);
     63 
     64         $this->wallet->refresh();
     65         
    66         $this->assertEquals(5000, $this->wallet->real_balance);
     67         $this->assertEquals(5000, $this->wallet->locked_balance);
     68     }
     69 
     70     /** @test */

  1   tests/Feature/WithdrawalWorkflowTest.php:66

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user cannot withdraw more    
  Expected response status code [400] but received 405.
Failed asserting that 405 is identical to 400.

  at tests/Feature/WithdrawalWorkflowTest.php:78
     74             'amount' => 15000, // More than available
     75             'gcash_number' => '09171234567',
     76         ]);
     77 
    78         $response->assertStatus(400);
     79         $response->assertJson([
     80             'message' => 'Insufficient balance',
     81         ]);
     82     }

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > withdrawal validates minim   
  Expected response status code [422] but received 405.
Failed asserting that 405 is identical to 422.

  at tests/Feature/WithdrawalWorkflowTest.php:92
     88             'amount' => 50, // Below minimum
     89             'gcash_number' => '09171234567',
     90         ]);
     91 
    92         $response->assertStatus(422);
     93         $response->assertJsonValidationErrors(['amount']);
     94     }
     95 
     96     /** @test */

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > withdrawal requires valid    
  Expected response status code [422] but received 405.
Failed asserting that 405 is identical to 422.

  at tests/Feature/WithdrawalWorkflowTest.php:104
    100             'amount' => 5000,
    101             'gcash_number' => 'invalid',
    102         ]);
    103 
   104         $response->assertStatus(422);
    105         $response->assertJsonValidationErrors(['gcash_number']);
    106     }
    107 
    108     /** @test */

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user  AssertionFailedError   
  Invalid JSON was returned from the route.

  at tests/Feature/WithdrawalWorkflowTest.php:118
    114 
    115         $response = $this->getJson('/api/withdrawals');
    116 
    117         $response->assertStatus(200);
   118         $response->assertJsonCount(3, 'data');
    119     }
    120 
    121     /** @test */
    122     public function user_can_cancel_pending_withdrawal()

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user can cancel pending wi   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/WithdrawalWorkflowTest.php:136
    132         ]);
    133 
    134         $response = $this->deleteJson("/api/withdrawals/{$withdrawal->id}");
    135 
   136         $response->assertStatus(200);
    137         
    138         $this->assertDatabaseHas('withdrawals', [
    139             'id' => $withdrawal->id,
    140             'status' => 'cancelled',

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user cannot cancel process   
  Expected response status code [400] but received 405.
Failed asserting that 405 is identical to 400.

  at tests/Feature/WithdrawalWorkflowTest.php:158
    154         ]);
    155 
    156         $response = $this->deleteJson("/api/withdrawals/{$withdrawal->id}");
    157 
   158         $response->assertStatus(400);
    159     }
    160 
    161     /** @test */
    162     public function user_cannot_withdraw_with_active_bonus()

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user cannot withdraw with    
  Expected response status code [400] but received 405.
Failed asserting that 405 is identical to 400.

  at tests/Feature/WithdrawalWorkflowTest.php:173
    169             'amount' => 5000,
    170             'gcash_number' => '09171234567',
    171         ]);
    172 
   173         $response->assertStatus(400);
    174         $response->assertJson([
    175             'message' => 'Cannot withdraw with active bonus balance',
    176         ]);
    177     }

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > withdrawal creates audit l   
  Failed asserting that a row in the table [audit_logs] matches the attributes {
    "user_id": 1,
    "action": "withdrawal_requested"
}.

The table is empty.

  at tests/Feature/WithdrawalWorkflowTest.php:187
    183             'amount' => 5000,
    184             'gcash_number' => '09171234567',
    185         ]);
    186 
   187         $this->assertDatabaseHas('audit_logs', [
    188             'user_id' => $this->user->id,
    189             'action' => 'withdrawal_requested',
    190         ]);
    191     }

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > withdrawal  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 CHECK constraint failed: status (Connection: sqlite, SQL: insert into "withdrawals" ("uuid", "user_id", "amount", "gcash_number", "status", "admin_notes", "created_at", "updated_at") values (a31fe421-b85c-3e1c-bb4a-fe93ef3b416e, 1, 40000, 09170895029, approved, ?, 2025-12-22 15:19:36, 2025-12-22 15:19:36))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:825
    821                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822                 );
    823             }
    824 
   825             throw new QueryException(
    826                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827             );
    828         }
    829     }

      [2m+18 vendor frames [22m
  19  tests/Feature/WithdrawalWorkflowTest.php:197

    
   FAILED  Tests\Feature\WithdrawalWorkflowTest > user cannot have multiple    
  Expected response status code [400] but received 405.
Failed asserting that 405 is identical to 400.

  at tests/Feature/WithdrawalWorkflowTest.php:228
    224             'amount' => 2000,
    225             'gcash_number' => '09171234567',
    226         ]);
    227 
   228         $response->assertStatus(400);
    229         $response->assertJson([
    230             'message' => 'You have a pending withdrawal request',
    231         ]);
    232     }


  Tests:    182 failed, 1 risky, 1 incomplete, 45 passed (311 assertions)
  Duration: 5.32s

